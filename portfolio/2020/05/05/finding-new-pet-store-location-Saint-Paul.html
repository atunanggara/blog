<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Finding a New Pet Store Location in St. Paul, MN | Learning Data Science</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Finding a New Pet Store Location in St. Paul, MN" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Using k-means clustering in finding a new Pet Store location using Yelp and FourSquare API. The original analysis was done in September 2019 and updated on May 2020 for blog publication." />
<meta property="og:description" content="Using k-means clustering in finding a new Pet Store location using Yelp and FourSquare API. The original analysis was done in September 2019 and updated on May 2020 for blog publication." />
<link rel="canonical" href="https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul" />
<meta property="og:url" content="https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul" />
<meta property="og:site_name" content="Learning Data Science" />
<meta property="og:image" content="https://atunanggara.github.io/blog/images/thumbnails/elbow_method_k-means.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-05T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Using k-means clustering in finding a new Pet Store location using Yelp and FourSquare API. The original analysis was done in September 2019 and updated on May 2020 for blog publication.","headline":"Finding a New Pet Store Location in St. Paul, MN","dateModified":"2020-05-05T00:00:00-05:00","datePublished":"2020-05-05T00:00:00-05:00","@type":"BlogPosting","image":"https://atunanggara.github.io/blog/images/thumbnails/elbow_method_k-means.png","url":"https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul","mainEntityOfPage":{"@type":"WebPage","@id":"https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://atunanggara.github.io/blog/feed.xml" title="Learning Data Science" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-161945914-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Finding a New Pet Store Location in St. Paul, MN | Learning Data Science</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Finding a New Pet Store Location in St. Paul, MN" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Using k-means clustering in finding a new Pet Store location using Yelp and FourSquare API. The original analysis was done in September 2019 and updated on May 2020 for blog publication." />
<meta property="og:description" content="Using k-means clustering in finding a new Pet Store location using Yelp and FourSquare API. The original analysis was done in September 2019 and updated on May 2020 for blog publication." />
<link rel="canonical" href="https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul" />
<meta property="og:url" content="https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul" />
<meta property="og:site_name" content="Learning Data Science" />
<meta property="og:image" content="https://atunanggara.github.io/blog/images/thumbnails/elbow_method_k-means.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-05-05T00:00:00-05:00" />
<script type="application/ld+json">
{"description":"Using k-means clustering in finding a new Pet Store location using Yelp and FourSquare API. The original analysis was done in September 2019 and updated on May 2020 for blog publication.","headline":"Finding a New Pet Store Location in St. Paul, MN","dateModified":"2020-05-05T00:00:00-05:00","datePublished":"2020-05-05T00:00:00-05:00","@type":"BlogPosting","image":"https://atunanggara.github.io/blog/images/thumbnails/elbow_method_k-means.png","url":"https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul","mainEntityOfPage":{"@type":"WebPage","@id":"https://atunanggara.github.io/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://atunanggara.github.io/blog/feed.xml" title="Learning Data Science" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-161945914-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>


    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"> </script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Learning Data Science</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Finding a New Pet Store Location in St. Paul, MN</h1><p class="page-description">Using k-means clustering in finding a new Pet Store location using Yelp and FourSquare API. _The original analysis was done in [September 2019](https://github.com/atunanggara/Coursera_Capstone/tree/master/Capstone-PetStore) and updated on May 2020 for blog publication._</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-05-05T00:00:00-05:00" itemprop="datePublished">
        May 5, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      30 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#portfolio">portfolio</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#jupyter">jupyter</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#unlabeled data">unlabeled data</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/atunanggara/blog/tree/master/_notebooks/2020-05-05-finding-new-pet-store-location-Saint-Paul.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/blog/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/atunanggara/blog/master?filepath=_notebooks%2F2020-05-05-finding-new-pet-store-location-Saint-Paul.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/blog/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/atunanggara/blog/blob/master/_notebooks/2020-05-05-finding-new-pet-store-location-Saint-Paul.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/blog/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#Summary">Summary </a></li>
<li class="toc-entry toc-h1"><a href="#Introduction">Introduction </a>
<ul>
<li class="toc-entry toc-h2"><a href="#Target-Audience">Target Audience </a></li>
<li class="toc-entry toc-h2"><a href="#Data-and-Methodology">Data and Methodology </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Removing-zip-codes-that-are-far-awar-from-St.-Paul-area">Removing zip codes that are far awar from St. Paul area </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#FourSquare-data-from-FourSquare-Places-API.">FourSquare data from FourSquare Places API. </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Cleaning-up-the-petstpaul_venues-data">Cleaning up the petstpaul_venues data </a>
<ul>
<li class="toc-entry toc-h5"><a href="#Separate-the-unique-and-duplicated-values-into-two:">Separate the unique and duplicated values into two: </a></li>
<li class="toc-entry toc-h5"><a href="#In-unique-dataframe,-fill-in-the-Venue-Zipcode-column-with-the-Zipcode-column">In unique dataframe, fill in the Venue Zipcode column with the Zipcode column </a></li>
<li class="toc-entry toc-h5"><a href="#In-duplicated-dataframe,-separate-them-into-zero-Venue-Zipcode-and-non-zero-Venue-Zipcode-dataframe:">In duplicated dataframe, separate them into zero Venue Zipcode and non-zero Venue Zipcode dataframe: </a></li>
<li class="toc-entry toc-h5"><a href="#for-non-zero-Venue-Zipcode-dataframe,-only-keep-the-values-where-Venue-Zipcode-and-Zipcode-column-matches">for non-zero Venue Zipcode dataframe, only keep the values where Venue Zipcode and Zipcode column matches </a></li>
<li class="toc-entry toc-h5"><a href="#for-zero-Venue-Zipcode-dataframe,-search-manually-and-fill-in-the-missing-zipcode-value">for zero Venue Zipcode dataframe, search manually and fill in the missing zipcode value </a></li>
<li class="toc-entry toc-h5"><a href="#Combining-them-all-back">Combining them all back </a></li>
<li class="toc-entry toc-h5"><a href="#Ensuring-the-venues-are-all-located-in-St.-Paul-region-zipcode">Ensuring the venues are all located in St. Paul region zipcode </a></li>
<li class="toc-entry toc-h5"><a href="#Let's-save-the-queries-into-a-csv-file:">Let&#39;s save the queries into a csv file: </a></li>
<li class="toc-entry toc-h5"><a href="#Let's-inspect-the-different-categories">Let&#39;s inspect the different categories </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#Yelp-API">Yelp API </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Cleaning-up-the-petstpaul_venues-data">Cleaning up the petstpaul_venues data </a>
<ul>
<li class="toc-entry toc-h5"><a href="#Based-on-the-Venue-column,-separate-the-unique-and-duplicated-values-into-two">Based on the Venue column, separate the unique and duplicated values into two </a></li>
<li class="toc-entry toc-h5"><a href="#In-unique-dataframe,-they-are-all-set!">In unique dataframe, they are all set! </a></li>
<li class="toc-entry toc-h5"><a href="#In-duplicated-dataframe,-separate-them-into-rows-where-Venue-Zipcode-and-Zipcode-are-the-same-and-rows-where-they-are-not:">In duplicated dataframe, separate them into rows where Venue Zipcode and Zipcode are the same and rows where they are not: </a></li>
<li class="toc-entry toc-h5"><a href="#Keep-all-the-values-when-Venue-Zipcode-and-Zipcode-are-the-same">Keep all the values when Venue Zipcode and Zipcode are the same </a></li>
<li class="toc-entry toc-h5"><a href="#Remove-the-duplicates-when-Venue-Zipcode-and-Zipcode-are-not-the-same">Remove the duplicates when Venue Zipcode and Zipcode are not the same </a></li>
<li class="toc-entry toc-h5"><a href="#Combining-all-the-values">Combining all the values </a></li>
<li class="toc-entry toc-h5"><a href="#resetting-the-index">resetting the index </a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#Combining-stpaul_venues-and-justpetyelp-and-cleaning-up-the-combined_df-data">Combining stpaul_venues and justpetyelp and cleaning up the combined_df data </a>
<ul>
<li class="toc-entry toc-h5"><a href="#Separate-the-dataframe-in-two-based-on-the-categories-in-the-stpaul_venues-and-justpetyelp">Separate the dataframe in two based on the categories in the stpaul_venues and justpetyelp </a></li>
<li class="toc-entry toc-h5"><a href="#In-check_one-dataframe,-separate-them-into-rows-where-there-are-duplicates-in-Venue-and-rows-where-they-are-not-(duplicated_check_one-and-unique_check_one)">In check_one dataframe, separate them into rows where there are duplicates in Venue and rows where they are not (duplicated_check_one and unique_check_one) </a></li>
<li class="toc-entry toc-h5"><a href="#Check-manually-and-remove-the-duplicates-on-duplicated_check_one">Check manually and remove the duplicates on duplicated_check_one </a>
<ul>
<li class="toc-entry toc-h6"><a href="#combined-the-three-dataframes-back-into-combined_df">combined the three dataframes back into combined_df </a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#Methodology-for-k-means-clustering-machine-learning">Methodology for k-means clustering machine learning </a>
<ul>
<li class="toc-entry toc-h5"><a href="#Analyze-Each-Neighborhood">Analyze Each Neighborhood </a></li>
</ul>
</li>
<li class="toc-entry toc-h4"><a href="#Next,-let's-group-rows-by-neighborhood-and-by-taking-the-mean-of-the-frequency-of-occurrence-of-each-category">Next, let&#39;s group rows by neighborhood and by taking the mean of the frequency of occurrence of each category </a></li>
<li class="toc-entry toc-h4"><a href="#Cluster-Neighborhoods">Cluster Neighborhoods </a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#Examine-Clusters">Examine Clusters </a>
<ul>
<li class="toc-entry toc-h4"><a href="#Cluster-1">Cluster 1 </a></li>
<li class="toc-entry toc-h4"><a href="#Cluster-2">Cluster 2 </a></li>
<li class="toc-entry toc-h4"><a href="#Cluster-3">Cluster 3 </a></li>
<li class="toc-entry toc-h4"><a href="#Cluster-4">Cluster 4 </a></li>
<li class="toc-entry toc-h4"><a href="#Cluster-5">Cluster 5 </a></li>
<li class="toc-entry toc-h3"><a href="#Dig-deeper-into-the-Three-Clusters">Dig deeper into the Three Clusters </a></li>
</ul>
</li>
</ul>
</li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-05-05-finding-new-pet-store-location-Saint-Paul.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Summary">
<a class="anchor" href="#Summary" aria-hidden="true"><span class="octicon octicon-link"></span></a>Summary<a class="anchor-link" href="#Summary"> </a>
</h1>
<p>I recommend Juan Doe to open up a new pet store in three different zip codes around the St. Paul, MN region:</p>
<ol>
<li>
<p>First is the <a href="https://www.unitedstateszipcodes.org/55105/">Macalester-Groveland neighborhood</a> (55105).<br>
They have high median income with many pet services and only one other pet store in the area. In order to succeed, John Doe needs to make sure that the type of items sold in the pet stores are different enough than the ones sold in grocery stores and the other pet store.</p>
</li>
<li>
<p>Second is the <a href="https://www.unitedstateszipcodes.org/55108/">Falcon Heights area</a> (55108).<br>
They do not have a pet store, but veterinarian hospitals and animal shelters are in the area.</p>
</li>
<li>
<p>Third is the <a href="https://www.unitedstateszipcodes.org/55119/">Battle Creek neighborhood</a> (55119).<br>
They have a similar make up as the Falcon Heights and a dog park nearby.</p>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Introduction">
<a class="anchor" href="#Introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction<a class="anchor-link" href="#Introduction"> </a>
</h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Sometime on March 2019, my wife and I decided to adopt a 10 year old dog named Filbert from the Animal Humane Society. Here is him in his natural habitat:</p>
<p><figure>
  
    <img class="docimage" src="/blog/images/copied_from_nb/../images/jupyter_posts/pet_store/Filbert_rectangle.jpg" alt="">
    
    
</figure>
</p>
<p>To ensure his happiness, we go to pet stores in our area for foods and treats quite regularly. On the other hand, I have also been trying to brush up on my k-means clustering algorithm understanding via IBM data science specialization. So I took it upon myself to do some research and came up with finding a new pet store location around St. Paul, MN area for my capstone project.</p>
<p>Unbeknown to me, US residents spent <a href="https://www.americanpetproducts.org/press_industrytrends.asp">more than $36 billion</a> for pet food and treats in 2019. So, pet store is a lucrative business to get into.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Target-Audience">
<a class="anchor" href="#Target-Audience" aria-hidden="true"><span class="octicon octicon-link"></span></a>Target Audience<a class="anchor-link" href="#Target-Audience"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Our friend, Juan Doe, wants to open a new pet store in St. Paul, MN area, and has asked me to help finding a location for it. Cost of doing business in a metropolis city like St. Paul can be stratospheric. Therefore, market share analysis can be helpful in figuring out a good location / locations and reduce the risk of opening a store in a saturated area.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Data-and-Methodology">
<a class="anchor" href="#Data-and-Methodology" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data and Methodology<a class="anchor-link" href="#Data-and-Methodology"> </a>
</h2>
<p>To run the analysis, I pulled several data from various sources:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Zipcode data from <a href="https://uszipcode.readthedocs.io/index.html#">uszipcode</a> Python package.<br>
It provides data for the <strong>latitude and longitude</strong> of all zipcode in the St. Paul, MN area along with the <strong>median household income</strong>.</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zipcode</th>
      <th>med_income</th>
      <th>latitude</th>
      <th>longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>55101</td>
      <td>40300</td>
      <td>44.95</td>
      <td>-93.09</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55102</td>
      <td>46255</td>
      <td>44.93</td>
      <td>-93.12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>55103</td>
      <td>28899</td>
      <td>44.97</td>
      <td>-93.13</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55104</td>
      <td>44629</td>
      <td>44.96</td>
      <td>-93.17</td>
    </tr>
    <tr>
      <th>4</th>
      <td>55105</td>
      <td>76472</td>
      <td>44.93</td>
      <td>-93.16</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_zip_merge</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(30, 5)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">json_zip_stpaul</span> <span class="o">=</span> <span class="n">stpaul_zip_merge</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">orient</span><span class="o">=</span><span class="s1">'split'</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># mn_zipcodes = alt.topo_feature(url=json_zip_stpaul, feature='')</span>

<span class="c1"># background = alt.Chart(mn_zipcodes).mark_geoshape(</span>
<span class="c1">#     stroke='black'</span>
<span class="c1"># ).encode(</span>
<span class="c1">#     tooltip=['zipcode:N'],</span>
<span class="c1"># ).properties(</span>
<span class="c1">#     width=500,</span>
<span class="c1">#     height=350,</span>
<span class="c1">#     title=f'MN Zip Code'</span>
<span class="c1"># ).project('albersUsa')</span>

<span class="c1"># background</span>
<span class="c1"># background</span>
<span class="c1"># .transform_lookup(</span>
<span class="c1">#     lookup='properties.ZCTA5CE10',</span>
<span class="c1">#     from_=alt.LookupData(data=zipStPaul,key='zipcode',</span>
<span class="c1">#                          fields=['zipcode','med_income'])</span>
<span class="c1"># ).encode(</span>
<span class="c1">#     color=alt.Color('med_income:Q',scale=alt.Scale(scheme='greenblue')),</span>
<span class="c1">#     tooltip=['zipcode:Q','med_income:Q'],</span>
<span class="c1"># )</span>
<span class="c1"># .transform_lookup(</span>
<span class="c1">#     lookup='properties.ZCTA5CE10',</span>
<span class="c1">#     from_=alt.LookupData(data=dfmnlatest,key='fips',</span>
<span class="c1">#                          fields=['county','cases','deaths','date'])</span>
<span class="c1"># )</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To visualize the data, we are going to use choropleth map</p>
<p>There are <strong>thirty zip code</strong> data that can be used for the FourSquare Places API.<br>
We will use <em>folium</em> Python package to visualize the data:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>First, we use geopy library to get the latitude and longitude values of St Paul, MN.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe src="data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgTF9OT19UT1VDSCA9IGZhbHNlOwogICAgICAgICAgICBMX0RJU0FCTEVfM0QgPSBmYWxzZTsKICAgICAgICA8L3NjcmlwdD4KICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjEyLjQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMi4wL2Nzcy9ib290c3RyYXAubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC42LjMvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL0xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLzIuMC4yL2xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS9weXRob24tdmlzdWFsaXphdGlvbi9mb2xpdW0vbWFzdGVyL2ZvbGl1bS90ZW1wbGF0ZXMvbGVhZmxldC5hd2Vzb21lLnJvdGF0ZS5jc3MiLz4KICAgIDxzdHlsZT5odG1sLCBib2R5IHt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fTwvc3R5bGU+CiAgICA8c3R5bGU+I21hcCB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDtsZWZ0OjA7fTwvc3R5bGU+CiAgICAKICAgICAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwKICAgICAgICAgICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAgICAgI21hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgbGVmdDogMC4wJTsKICAgICAgICAgICAgICAgICAgICB0b3A6IDAuMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgCjwvaGVhZD4KPGJvZHk+ICAgIAogICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvbGl1bS1tYXAiIGlkPSJtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEiID48L2Rpdj4KICAgICAgICAKPC9ib2R5Pgo8c2NyaXB0PiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFwX2Y3MzhiMWFmMTgxNTRiMWFiNTE5MmE2YTcwN2RiZjRhID0gTC5tYXAoCiAgICAgICAgICAgICAgICAibWFwX2Y3MzhiMWFmMTgxNTRiMWFiNTE5MmE2YTcwN2RiZjRhIiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IFs0NC45NTA0MDM3LCAtOTMuMTAxNTAyNl0sCiAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NywKICAgICAgICAgICAgICAgICAgICB6b29tOiAxMCwKICAgICAgICAgICAgICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwcmVmZXJDYW52YXM6IGZhbHNlLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwoKICAgICAgICAgICAgCgogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyX2VmODBkMmYzNTA3NTRjZmU4YzUyNWFlZTYzMjI3OTMxID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAiaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmciLAogICAgICAgICAgICAgICAgeyJhdHRyaWJ1dGlvbiI6ICJEYXRhIGJ5IFx1MDAyNmNvcHk7IFx1MDAzY2EgaHJlZj1cImh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZ1wiXHUwMDNlT3BlblN0cmVldE1hcFx1MDAzYy9hXHUwMDNlLCB1bmRlciBcdTAwM2NhIGhyZWY9XCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiXHUwMDNlT0RiTFx1MDAzYy9hXHUwMDNlLiIsICJkZXRlY3RSZXRpbmEiOiBmYWxzZSwgIm1heE5hdGl2ZVpvb20iOiAxOCwgIm1heFpvb20iOiAxOCwgIm1pblpvb20iOiAwLCAibm9XcmFwIjogZmFsc2UsICJvcGFjaXR5IjogMSwgInN1YmRvbWFpbnMiOiAiYWJjIiwgInRtcyI6IGZhbHNlfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmQxNDJiNWFmMjM4NGU1YTkyYTA5NjM2NjhlMTRiNWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NSwgLTkzLjA5XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzQyODdlMTE2NjgwODQzYjhiNmIwY2Q0ZDRkODA4Y2M1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xOGUyOWVkZjJjNjE0Y2VmOTlmOTU4YmM2ZDI3N2Q1YiA9ICQoYDxkaXYgaWQ9Imh0bWxfMThlMjllZGYyYzYxNGNlZjk5Zjk1OGJjNmQyNzdkNWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTAxLCA0MDMwMDwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF80Mjg3ZTExNjY4MDg0M2I4YjZiMGNkNGQ0ZDgwOGNjNS5zZXRDb250ZW50KGh0bWxfMThlMjllZGYyYzYxNGNlZjk5Zjk1OGJjNmQyNzdkNWIpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2JkMTQyYjVhZjIzODRlNWE5MmEwOTYzNjY4ZTE0YjViLmJpbmRQb3B1cChwb3B1cF80Mjg3ZTExNjY4MDg0M2I4YjZiMGNkNGQ0ZDgwOGNjNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzQ5ZDM0Mjk0MDFjNDYzN2FmYjE2MjRjOGI1NGNiNTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45MywgLTkzLjEyXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2YzNGExYzc0ZTljZDQyMTliZjkzMDcyZDEzMjZkNDk1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82NzAyOWI1YjU1MGI0OTQzYmNkNWUzZjM1YjBkOTMwZSA9ICQoYDxkaXYgaWQ9Imh0bWxfNjcwMjliNWI1NTBiNDk0M2JjZDVlM2YzNWIwZDkzMGUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTAyLCA0NjI1NTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mMzRhMWM3NGU5Y2Q0MjE5YmY5MzA3MmQxMzI2ZDQ5NS5zZXRDb250ZW50KGh0bWxfNjcwMjliNWI1NTBiNDk0M2JjZDVlM2YzNWIwZDkzMGUpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2M0OWQzNDI5NDAxYzQ2MzdhZmIxNjI0YzhiNTRjYjUyLmJpbmRQb3B1cChwb3B1cF9mMzRhMWM3NGU5Y2Q0MjE5YmY5MzA3MmQxMzI2ZDQ5NSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTZlNmJmNzI5M2NjNDUwN2FjMGFhYzk2N2QwMDIzMzMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NywgLTkzLjEzXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2FiMGM4MmVhMzQwYjRkODRiZTVkYzVhMGRkZjgzY2JkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wOTFiNDc0YTFiMDA0NjVkYjgzMDkyOGIzZTU4OWQ2OSA9ICQoYDxkaXYgaWQ9Imh0bWxfMDkxYjQ3NGExYjAwNDY1ZGI4MzA5MjhiM2U1ODlkNjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTAzLCAyODg5OTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hYjBjODJlYTM0MGI0ZDg0YmU1ZGM1YTBkZGY4M2NiZC5zZXRDb250ZW50KGh0bWxfMDkxYjQ3NGExYjAwNDY1ZGI4MzA5MjhiM2U1ODlkNjkpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzU2ZTZiZjcyOTNjYzQ1MDdhYzBhYWM5NjdkMDAyMzMzLmJpbmRQb3B1cChwb3B1cF9hYjBjODJlYTM0MGI0ZDg0YmU1ZGM1YTBkZGY4M2NiZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzEwNTgxYjAwYzQwNGQ2ODllNjU0N2U3MjNkY2I1OGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NiwgLTkzLjE3XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzYxNWZlMjM4NDBmZTQ4Mzg4OTJlMmFmOTAwMjEyNzlhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xMTA3YjE1MWQyNGI0YjhmOTI5YWI2NDU3NjUxMWYzZCA9ICQoYDxkaXYgaWQ9Imh0bWxfMTEwN2IxNTFkMjRiNGI4ZjkyOWFiNjQ1NzY1MTFmM2QiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA0LCA0NDYyOTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82MTVmZTIzODQwZmU0ODM4ODkyZTJhZjkwMDIxMjc5YS5zZXRDb250ZW50KGh0bWxfMTEwN2IxNTFkMjRiNGI4ZjkyOWFiNjQ1NzY1MTFmM2QpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzcxMDU4MWIwMGM0MDRkNjg5ZTY1NDdlNzIzZGNiNThiLmJpbmRQb3B1cChwb3B1cF82MTVmZTIzODQwZmU0ODM4ODkyZTJhZjkwMDIxMjc5YSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWFmYjAxOGJkM2VjNGE0Njg4YmFkY2MwYTUwYWY1MjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45MywgLTkzLjE2XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2FmMGIxN2UzNDUzNzQ2MjA5YzdkNzQ2OThiMjQ3ZDhkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF84ZjZlMTdhN2E2ODI0ODE4YTI2ZDQ0MGYwNDU1ZmQ1MyA9ICQoYDxkaXYgaWQ9Imh0bWxfOGY2ZTE3YTdhNjgyNDgxOGEyNmQ0NDBmMDQ1NWZkNTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA1LCA3NjQ3MjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hZjBiMTdlMzQ1Mzc0NjIwOWM3ZDc0Njk4YjI0N2Q4ZC5zZXRDb250ZW50KGh0bWxfOGY2ZTE3YTdhNjgyNDgxOGEyNmQ0NDBmMDQ1NWZkNTMpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzVhZmIwMThiZDNlYzRhNDY4OGJhZGNjMGE1MGFmNTI3LmJpbmRQb3B1cChwb3B1cF9hZjBiMTdlMzQ1Mzc0NjIwOWM3ZDc0Njk4YjI0N2Q4ZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTIzZjQyNjk4MTkwNDcxYWJlMGE0MjdhODk0MDk3N2QgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NCwgLTkzLjA1XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2RjNjUwZGVmMTkzNDQxN2I4NmIxOWQ0NzdiNDAxZmI1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lMWY4Yzc1MjlkOTM0ZTI2OWJiMWQwN2ZhNDg5Y2JhMSA9ICQoYDxkaXYgaWQ9Imh0bWxfZTFmOGM3NTI5ZDkzNGUyNjliYjFkMDdmYTQ4OWNiYTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA2LCA0MjY4NjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kYzY1MGRlZjE5MzQ0MTdiODZiMTlkNDc3YjQwMWZiNS5zZXRDb250ZW50KGh0bWxfZTFmOGM3NTI5ZDkzNGUyNjliYjFkMDdmYTQ4OWNiYTEpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2EyM2Y0MjY5ODE5MDQ3MWFiZTBhNDI3YTg5NDA5NzdkLmJpbmRQb3B1cChwb3B1cF9kYzY1MGRlZjE5MzQ0MTdiODZiMTlkNDc3YjQwMWZiNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGU3ZDFhOGM1M2JkNGRiZTkzNmNiNTE1MjEwOWUwNWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45MywgLTkzLjA5XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2EyMDBlZjc2ZTJlYzRiN2RhYWVmZTI3MTBhMDczOGNhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wZTY4YjIxZGEzOTY0ODNlODM5NWJhNTNjYTA1MzQ2NCA9ICQoYDxkaXYgaWQ9Imh0bWxfMGU2OGIyMWRhMzk2NDgzZTgzOTViYTUzY2EwNTM0NjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA3LCA0NDkxMzwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9hMjAwZWY3NmUyZWM0YjdkYWFlZmUyNzEwYTA3MzhjYS5zZXRDb250ZW50KGh0bWxfMGU2OGIyMWRhMzk2NDgzZTgzOTViYTUzY2EwNTM0NjQpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzRlN2QxYThjNTNiZDRkYmU5MzZjYjUxNTIxMDllMDVmLmJpbmRQb3B1cChwb3B1cF9hMjAwZWY3NmUyZWM0YjdkYWFlZmUyNzEwYTA3MzhjYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjNiMjUzYWNiOGY5NGRjYmE3YWIxYWJkMjQyYjM0MTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45OCwgLTkzLjE4XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzAxMmIwYjBhZDdiNzQxN2RhOWI0N2FlNGY4YzYzOTJjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xMjJjZDI3ZjVhYTE0ZGU3OGI1MTFmOTM4NTM4NmQ0NSA9ICQoYDxkaXYgaWQ9Imh0bWxfMTIyY2QyN2Y1YWExNGRlNzhiNTExZjkzODUzODZkNDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA4LCA1Njk5NDwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wMTJiMGIwYWQ3Yjc0MTdkYTliNDdhZTRmOGM2MzkyYy5zZXRDb250ZW50KGh0bWxfMTIyY2QyN2Y1YWExNGRlNzhiNTExZjkzODUzODZkNDUpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzIzYjI1M2FjYjhmOTRkY2JhN2FiMWFiZDI0MmIzNDE3LmJpbmRQb3B1cChwb3B1cF8wMTJiMGIwYWQ3Yjc0MTdkYTliNDdhZTRmOGM2MzkyYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzk0YWRkNjNlODNjNDE0MWJmMzBlZjAyZDk0ZGEzZTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NS4wMiwgLTkzLjAzXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzAwMDBmYjM0NWRjYjRiYWVhYTIzODJhMTYzZmFmMGFhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yYWUzYTM4M2VmYTY0NTgzYmQ5YTIzNWM1NzkxZjY5MiA9ICQoYDxkaXYgaWQ9Imh0bWxfMmFlM2EzODNlZmE2NDU4M2JkOWEyMzVjNTc5MWY2OTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA5LCA1MTc4MjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wMDAwZmIzNDVkY2I0YmFlYWEyMzgyYTE2M2ZhZjBhYS5zZXRDb250ZW50KGh0bWxfMmFlM2EzODNlZmE2NDU4M2JkOWEyMzVjNTc5MWY2OTIpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzM5NGFkZDYzZTgzYzQxNDFiZjMwZWYwMmQ5NGRhM2UxLmJpbmRQb3B1cChwb3B1cF8wMDAwZmIzNDVkY2I0YmFlYWEyMzgyYTE2M2ZhZjBhYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjkyMGI1NWRjM2E1NDgzZTgxYjcwOGE5YzI4Y2Q2YTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NS4wOSwgLTkzLjBdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZDI2ZjllYjUwZWVmNGVjNDk3NmViZjA3ZGIzOWNhM2YgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzAxODc1Yzc1YjJjNTRmMTc5NjBkNzU2MGU0MzFmZjI2ID0gJChgPGRpdiBpZD0iaHRtbF8wMTg3NWM3NWIyYzU0ZjE3OTYwZDc1NjBlNDMxZmYyNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMTAsIDY4NjE4PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2QyNmY5ZWI1MGVlZjRlYzQ5NzZlYmYwN2RiMzljYTNmLnNldENvbnRlbnQoaHRtbF8wMTg3NWM3NWIyYzU0ZjE3OTYwZDc1NjBlNDMxZmYyNik7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfZjkyMGI1NWRjM2E1NDgzZTgxYjcwOGE5YzI4Y2Q2YTIuYmluZFBvcHVwKHBvcHVwX2QyNmY5ZWI1MGVlZjRlYzQ5NzZlYmYwN2RiMzljYTNmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YmIyN2VkZGQxZjc0NDc1OWQ3YTU4MjU4Y2FlOTJmOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0Ljg4LCAtOTMuMl0sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAiYmx1ZSIsICJkYXNoQXJyYXkiOiBudWxsLCAiZGFzaE9mZnNldCI6IG51bGwsICJmaWxsIjogdHJ1ZSwgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwgImZpbGxPcGFjaXR5IjogMC43LCAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsICJsaW5lQ2FwIjogInJvdW5kIiwgImxpbmVKb2luIjogInJvdW5kIiwgIm9wYWNpdHkiOiAxLjAsICJyYWRpdXMiOiA1LCAic3Ryb2tlIjogdHJ1ZSwgIndlaWdodCI6IDN9CiAgICAgICAgICAgICkuYWRkVG8obWFwX2Y3MzhiMWFmMTgxNTRiMWFiNTE5MmE2YTcwN2RiZjRhKTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8xYmY1YmU4MGVlYzk0ZmFjYmM2NGU0OWEwM2Y2MzkwZCA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfNjBlZmExOGJjMmYyNDdmZjk4NGQ0ZjM0MTM5NDQ0Y2YgPSAkKGA8ZGl2IGlkPSJodG1sXzYwZWZhMThiYzJmMjQ3ZmY5ODRkNGYzNDEzOTQ0NGNmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij41NTExMSwgTm9uZTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xYmY1YmU4MGVlYzk0ZmFjYmM2NGU0OWEwM2Y2MzkwZC5zZXRDb250ZW50KGh0bWxfNjBlZmExOGJjMmYyNDdmZjk4NGQ0ZjM0MTM5NDQ0Y2YpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzViYjI3ZWRkZDFmNzQ0NzU5ZDdhNTgyNThjYWU5MmY5LmJpbmRQb3B1cChwb3B1cF8xYmY1YmU4MGVlYzk0ZmFjYmM2NGU0OWEwM2Y2MzkwZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDYyNTQ4NWMxMWNiNGQ3NjhiYTEwN2UyY2U4ZjU5YWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NS4wOCwgLTkzLjE5XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzY3OWNkZjJkOWYxYzQxZTdhODRmZGU3OTIxMzZhN2UwID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jOWZmZmE1MmU5NWU0YmNhYWI2MzYxMjMyMGZmM2ZhMyA9ICQoYDxkaXYgaWQ9Imh0bWxfYzlmZmZhNTJlOTVlNGJjYWFiNjM2MTIzMjBmZjNmYTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTEyLCA2NDc2MzwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82NzljZGYyZDlmMWM0MWU3YTg0ZmRlNzkyMTM2YTdlMC5zZXRDb250ZW50KGh0bWxfYzlmZmZhNTJlOTVlNGJjYWFiNjM2MTIzMjBmZjNmYTMpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzA2MjU0ODVjMTFjYjRkNzY4YmExMDdlMmNlOGY1OWFhLmJpbmRQb3B1cChwb3B1cF82NzljZGYyZDlmMWM0MWU3YTg0ZmRlNzkyMTM2YTdlMCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDNmZDFiYmZkODljNGU1MjkwMTlmNmYwZTUwMmNmMTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NS4wMSwgLTkzLjE2XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ZmNDk3ZmZmNDU5ODQyYTI5M2EyMDI0N2U2ZDUyZGRmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8zODU3MjQ5MGQ5ZWQ0MzUxYjZlMzgyZWNlODExZmJlNyA9ICQoYDxkaXYgaWQ9Imh0bWxfMzg1NzI0OTBkOWVkNDM1MWI2ZTM4MmVjZTgxMWZiZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTEzLCA2MTExMzwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9mZjQ5N2ZmZjQ1OTg0MmEyOTNhMjAyNDdlNmQ1MmRkZi5zZXRDb250ZW50KGh0bWxfMzg1NzI0OTBkOWVkNDM1MWI2ZTM4MmVjZTgxMWZiZTcpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzQzZmQxYmJmZDg5YzRlNTI5MDE5ZjZmMGU1MDJjZjEyLmJpbmRQb3B1cChwb3B1cF9mZjQ5N2ZmZjQ1OTg0MmEyOTNhMjAyNDdlNmQ1MmRkZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDgzM2QwNjdiNjQ1NGI2OGIyOTBmYzExMWI3MjgxMmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NywgLTkzLjJdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfOWM4ZjYzNjRiMmU0NGY2NmEwNjBlYjc0ZDQ4MWZjZWYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2UyMzQ5NTRjMjdlZTQxMTE4NGNiMzE3NjY4YWRiMGIxID0gJChgPGRpdiBpZD0iaHRtbF9lMjM0OTU0YzI3ZWU0MTExODRjYjMxNzY2OGFkYjBiMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMTQsIDM4ODYxPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzljOGY2MzY0YjJlNDRmNjZhMDYwZWI3NGQ0ODFmY2VmLnNldENvbnRlbnQoaHRtbF9lMjM0OTU0YzI3ZWU0MTExODRjYjMxNzY2OGFkYjBiMSk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfNDgzM2QwNjdiNjQ1NGI2OGIyOTBmYzExMWI3MjgxMmMuYmluZFBvcHVwKHBvcHVwXzljOGY2MzY0YjJlNDRmNjZhMDYwZWI3NGQ0ODFmY2VmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NGJjNGNjMGM0MWM0NjM1YWFiMTI3OWUzNTFjZGIwNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ1LjA3LCAtOTIuOTVdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYzcyOTczODk2N2U4NDljN2I4MzY3NjEwODA2ZjQ1MWUgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzJiZjcyMzlmYjY0YzQyNzg5ZmRhZDQ0NTg0ZjYzZWEwID0gJChgPGRpdiBpZD0iaHRtbF8yYmY3MjM5ZmI2NGM0Mjc4OWZkYWQ0NDU4NGY2M2VhMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMTUsIDk2MDg4PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2M3Mjk3Mzg5NjdlODQ5YzdiODM2NzYxMDgwNmY0NTFlLnNldENvbnRlbnQoaHRtbF8yYmY3MjM5ZmI2NGM0Mjc4OWZkYWQ0NDU4NGY2M2VhMCk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfOTRiYzRjYzBjNDFjNDYzNWFhYjEyNzllMzUxY2RiMDUuYmluZFBvcHVwKHBvcHVwX2M3Mjk3Mzg5NjdlODQ5YzdiODM2NzYxMDgwNmY0NTFlKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZTc4NmZjZDQ2NmU0MjE2YTMwZmZhNWFlNmNkYWMwYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0LjkxLCAtOTMuMTddLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMmM4Y2I2ZDc3MTEwNDg0ZDlhZmRiNmQ2ZmMzNjE4NDAgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y0YzczYWI5ZmMyNzQzMDY4ODc4NjZkNjg1NjQzOTY2ID0gJChgPGRpdiBpZD0iaHRtbF9mNGM3M2FiOWZjMjc0MzA2ODg3ODY2ZDY4NTY0Mzk2NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMTYsIDYxMTQyPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzJjOGNiNmQ3NzExMDQ4NGQ5YWZkYjZkNmZjMzYxODQwLnNldENvbnRlbnQoaHRtbF9mNGM3M2FiOWZjMjc0MzA2ODg3ODY2ZDY4NTY0Mzk2Nik7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfY2U3ODZmY2Q0NjZlNDIxNmEzMGZmYTVhZTZjZGFjMGIuYmluZFBvcHVwKHBvcHVwXzJjOGNiNmQ3NzExMDQ4NGQ5YWZkYjZkNmZjMzYxODQwKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMzM3NzhhYzQwYTU0MjA1YmQ1OTQ5Y2EyY2Q2ZWQyOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ1LjAsIC05My4xXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzJiYzAwODlkNjdiMTRjOGFiZWVkOTgwZDBhMDA5ZmRkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF83YmQ0MmQ4NDhjZTY0ZjUxOWVjMjk3NDdjNGEyMDY1ZSA9ICQoYDxkaXYgaWQ9Imh0bWxfN2JkNDJkODQ4Y2U2NGY1MTllYzI5NzQ3YzRhMjA2NWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTE3LCA0NDA0MDwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8yYmMwMDg5ZDY3YjE0YzhhYmVlZDk4MGQwYTAwOWZkZC5zZXRDb250ZW50KGh0bWxfN2JkNDJkODQ4Y2U2NGY1MTllYzI5NzQ3YzRhMjA2NWUpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzMzMzc3OGFjNDBhNTQyMDViZDU5NDljYTJjZDZlZDI4LmJpbmRQb3B1cChwb3B1cF8yYmMwMDg5ZDY3YjE0YzhhYmVlZDk4MGQwYTAwOWZkZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2JmOWMzMmE5YTQxNGY5MmEwOGZhNjZlMmJlODY5YmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC44OSwgLTkzLjExXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2VmMzU3Y2JhOTJkZjRiN2JhODA0ZWM5YTYwYzNlY2RjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF80MjcxYmQxMzBmZGE0NjJkODE0ODdjMjQxZjY3NWU1YyA9ICQoYDxkaXYgaWQ9Imh0bWxfNDI3MWJkMTMwZmRhNDYyZDgxNDg3YzI0MWY2NzVlNWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTE4LCA1NTg2MjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lZjM1N2NiYTkyZGY0YjdiYTgwNGVjOWE2MGMzZWNkYy5zZXRDb250ZW50KGh0bWxfNDI3MWJkMTMwZmRhNDYyZDgxNDg3YzI0MWY2NzVlNWMpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzdiZjljMzJhOWE0MTRmOTJhMDhmYTY2ZTJiZTg2OWJmLmJpbmRQb3B1cChwb3B1cF9lZjM1N2NiYTkyZGY0YjdiYTgwNGVjOWE2MGMzZWNkYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDhmMjk2M2I5ZTc5NGZjMWI1NjJlNWVjNWNkNjA3MDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NCwgLTkzLjAxXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzEwZmNhMjM5NDZjOTQzNTM4MTc3YTNhZDRlYzhlZTNkID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8wNTg1NDg3ZWFkNzI0MDNhOTJiZmNkOWY1ZGRjOTNhYSA9ICQoYDxkaXYgaWQ9Imh0bWxfMDU4NTQ4N2VhZDcyNDAzYTkyYmZjZDlmNWRkYzkzYWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTE5LCA1NjI3NTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8xMGZjYTIzOTQ2Yzk0MzUzODE3N2EzYWQ0ZWM4ZWUzZC5zZXRDb250ZW50KGh0bWxfMDU4NTQ4N2VhZDcyNDAzYTkyYmZjZDlmNWRkYzkzYWEpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2Q4ZjI5NjNiOWU3OTRmYzFiNTYyZTVlYzVjZDYwNzA3LmJpbmRQb3B1cChwb3B1cF8xMGZjYTIzOTQ2Yzk0MzUzODE3N2EzYWQ0ZWM4ZWUzZCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzIxYjQyNzkwZWFiNDI4NTljNjZlNGYxNDJiNTM3YjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC44OCwgLTkzLjE1XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzA0M2QwOTZjNmY5ODRlNWU5ZDJhNTA3MDgyNWVlNTEzID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xZWY3ZDMyNTI2NGU0Y2RlYWY2MjM0YjEzYTAxMDgyMiA9ICQoYDxkaXYgaWQ9Imh0bWxfMWVmN2QzMjUyNjRlNGNkZWFmNjIzNGIxM2EwMTA4MjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTIwLCA4NTkzODwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wNDNkMDk2YzZmOTg0ZTVlOWQyYTUwNzA4MjVlZTUxMy5zZXRDb250ZW50KGh0bWxfMWVmN2QzMjUyNjRlNGNkZWFmNjIzNGIxM2EwMTA4MjIpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2MyMWI0Mjc5MGVhYjQyODU5YzY2ZTRmMTQyYjUzN2I3LmJpbmRQb3B1cChwb3B1cF8wNDNkMDk2YzZmOTg0ZTVlOWQyYTUwNzA4MjVlZTUxMykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYThjNmU3YjdkZDRmNDQyZjljZDE5YmVmZjdjOTFjNWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC44NCwgLTkzLjE3XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2Q5MDU0ZGUxN2I0ZDQyODA5YzM0ZjJkYTQ3ZmFhMjBhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9jNzQ4ZjhhMDAwZDQ0ZTJkODFiMjc2ZWRjM2JmZGM0NyA9ICQoYDxkaXYgaWQ9Imh0bWxfYzc0OGY4YTAwMGQ0NGUyZDgxYjI3NmVkYzNiZmRjNDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTIxLCA2NDM4NTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kOTA1NGRlMTdiNGQ0MjgwOWMzNGYyZGE0N2ZhYTIwYS5zZXRDb250ZW50KGh0bWxfYzc0OGY4YTAwMGQ0NGUyZDgxYjI3NmVkYzNiZmRjNDcpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2E4YzZlN2I3ZGQ0ZjQ0MmY5Y2QxOWJlZmY3YzkxYzVkLmJpbmRQb3B1cChwb3B1cF9kOTA1NGRlMTdiNGQ0MjgwOWMzNGYyZGE0N2ZhYTIwYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTg5ZDkwNzE2MmUzNGQ1ZDg3MDZjOTM0YTM5N2U1NjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC44MSwgLTkzLjJdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMmI5M2IwMGM5OTgzNGJiYmFjODE2ODg0M2VkNjhjN2YgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzAzZmUyMTFmZjk2MDQwZjg4ZjllNTI4Y2VlMWExNWRhID0gJChgPGRpdiBpZD0iaHRtbF8wM2ZlMjExZmY5NjA0MGY4OGY5ZTUyOGNlZTFhMTVkYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMjIsIDcxMDM4PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzJiOTNiMDBjOTk4MzRiYmJhYzgxNjg4NDNlZDY4YzdmLnNldENvbnRlbnQoaHRtbF8wM2ZlMjExZmY5NjA0MGY4OGY5ZTUyOGNlZTFhMTVkYSk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfOTg5ZDkwNzE2MmUzNGQ1ZDg3MDZjOTM0YTM5N2U1NjcuYmluZFBvcHVwKHBvcHVwXzJiOTNiMDBjOTk4MzRiYmJhYzgxNjg4NDNlZDY4YzdmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85OTIzYmMyNWZhZWQ0NTE4ODFjMjEzZWM1OTc5ODQyMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0LjgsIC05My4xNF0sCiAgICAgICAgICAgICAgICB7ImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLCAiY29sb3IiOiAiYmx1ZSIsICJkYXNoQXJyYXkiOiBudWxsLCAiZGFzaE9mZnNldCI6IG51bGwsICJmaWxsIjogdHJ1ZSwgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwgImZpbGxPcGFjaXR5IjogMC43LCAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsICJsaW5lQ2FwIjogInJvdW5kIiwgImxpbmVKb2luIjogInJvdW5kIiwgIm9wYWNpdHkiOiAxLjAsICJyYWRpdXMiOiA1LCAic3Ryb2tlIjogdHJ1ZSwgIndlaWdodCI6IDN9CiAgICAgICAgICAgICkuYWRkVG8obWFwX2Y3MzhiMWFmMTgxNTRiMWFiNTE5MmE2YTcwN2RiZjRhKTsKICAgICAgICAKICAgIAogICAgICAgIHZhciBwb3B1cF8wYjM5OTBiMTUxNDE0OTkwYjQ5YmI3OTVjM2Q0Y2I3ZiA9IEwucG9wdXAoeyJtYXhXaWR0aCI6ICIxMDAlIn0pOwoKICAgICAgICAKICAgICAgICAgICAgdmFyIGh0bWxfZDY5YjEwNmYyZTdjNDVkMWI4MDg5ZmJmNzhmMzEwMWIgPSAkKGA8ZGl2IGlkPSJodG1sX2Q2OWIxMDZmMmU3YzQ1ZDFiODA4OWZiZjc4ZjMxMDFiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij41NTEyMywgMTAzODI5PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzBiMzk5MGIxNTE0MTQ5OTBiNDliYjc5NWMzZDRjYjdmLnNldENvbnRlbnQoaHRtbF9kNjliMTA2ZjJlN2M0NWQxYjgwODlmYmY3OGYzMTAxYik7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfOTkyM2JjMjVmYWVkNDUxODgxYzIxM2VjNTk3OTg0MjIuYmluZFBvcHVwKHBvcHVwXzBiMzk5MGIxNTE0MTQ5OTBiNDliYjc5NWMzZDRjYjdmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMWM1NjMxMDI5ODQ0OWE2OTVlOWI4Y2E3NjA5ZjcxMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0LjczLCAtOTMuMjFdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMmI0ZmIyMWYyNzJmNDU3OGE3YzYyMTFhNzNhYTE1OGQgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2Y2OWU0YjcyNDc4NDQ2ODhiNGZhNzJmNGViY2E1Y2E3ID0gJChgPGRpdiBpZD0iaHRtbF9mNjllNGI3MjQ3ODQ0Njg4YjRmYTcyZjRlYmNhNWNhNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMjQsIDgwMzc4PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzJiNGZiMjFmMjcyZjQ1NzhhN2M2MjExYTczYWExNThkLnNldENvbnRlbnQoaHRtbF9mNjllNGI3MjQ3ODQ0Njg4YjRmYTcyZjRlYmNhNWNhNyk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfYzFjNTYzMTAyOTg0NDlhNjk1ZTliOGNhNzYwOWY3MTAuYmluZFBvcHVwKHBvcHVwXzJiNGZiMjFmMjcyZjQ1NzhhN2M2MjExYTczYWExNThkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wYTZhYjZlMzA0YWM0Nzk4ODIzZDRhMTA4ZTJiNjZmYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0LjkyLCAtOTIuOTRdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfYmM2YjUwYzU3ZTc0NDhiYTk5ZmE3ZGNlYmM5YzlhMzEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2JkZGYyOTliMTczZDRmYTBhMjg5OWM0NWFkYjhhNmQ5ID0gJChgPGRpdiBpZD0iaHRtbF9iZGRmMjk5YjE3M2Q0ZmEwYTI4OTljNDVhZGI4YTZkOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMjUsIDkxNTkxPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2JjNmI1MGM1N2U3NDQ4YmE5OWZhN2RjZWJjOWM5YTMxLnNldENvbnRlbnQoaHRtbF9iZGRmMjk5YjE3M2Q0ZmEwYTI4OTljNDVhZGI4YTZkOSk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfMGE2YWI2ZTMwNGFjNDc5ODgyM2Q0YTEwOGUyYjY2ZmEuYmluZFBvcHVwKHBvcHVwX2JjNmI1MGM1N2U3NDQ4YmE5OWZhN2RjZWJjOWM5YTMxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82YzZiNzJmNDllOTI0YzcyYWNmNjY5YzIyODc0OGZlMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ1LjA4LCAtOTMuMTRdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNzgyMGViZTZkZmEzNDQwNmEyZjdlMmI4ZjAyZjg2Y2QgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzVmODBlMGMyMmZkODQxZjViZDIxNjJkZjg3NDk0NjNiID0gJChgPGRpdiBpZD0iaHRtbF81ZjgwZTBjMjJmZDg0MWY1YmQyMTYyZGY4NzQ5NDYzYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMjYsIDc3NDUxPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzc4MjBlYmU2ZGZhMzQ0MDZhMmY3ZTJiOGYwMmY4NmNkLnNldENvbnRlbnQoaHRtbF81ZjgwZTBjMjJmZDg0MWY1YmQyMTYyZGY4NzQ5NDYzYik7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfNmM2YjcyZjQ5ZTkyNGM3MmFjZjY2OWMyMjg3NDhmZTAuYmluZFBvcHVwKHBvcHVwXzc4MjBlYmU2ZGZhMzQ0MDZhMmY3ZTJiOGYwMmY4NmNkKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNWYzMGNmYmZmYTA0NzU5YTM2NTAxNmZhZDlhMGI2NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ1LjA4LCAtOTMuMDldLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMWU1NjU3Nzc0YzdlNGUyZDg1YjE5MzUxY2VjNzExZTEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2VjZWE4MGMwZTFmNDQ4Zjc4MmM0ZmJhMzkyNTA0ZTU3ID0gJChgPGRpdiBpZD0iaHRtbF9lY2VhODBjMGUxZjQ0OGY3ODJjNGZiYTM5MjUwNGU1NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMjcsIDg0ODg4PC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzFlNTY1Nzc3NGM3ZTRlMmQ4NWIxOTM1MWNlYzcxMWUxLnNldENvbnRlbnQoaHRtbF9lY2VhODBjMGUxZjQ0OGY3ODJjNGZiYTM5MjUwNGU1Nyk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfMjVmMzBjZmJmZmEwNDc1OWEzNjUwMTZmYWQ5YTBiNjcuYmluZFBvcHVwKHBvcHVwXzFlNTY1Nzc3NGM3ZTRlMmQ4NWIxOTM1MWNlYzcxMWUxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81OTc2ZWEwMTkzZGE0NTgxOGRiZjgwZDI4ZDM5NDBjZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0Ljk5LCAtOTIuOTZdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfNzNhMGU2YjkxYzdjNGUwMDlhZmU3MGQ3M2QwNjBlN2YgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sXzQxMjU2NTIzMjFiYzQwZGRhY2EwODMxNjQ1ZjljMDA1ID0gJChgPGRpdiBpZD0iaHRtbF80MTI1NjUyMzIxYmM0MGRkYWNhMDgzMTY0NWY5YzAwNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMjgsIDY2MTcwPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzczYTBlNmI5MWM3YzRlMDA5YWZlNzBkNzNkMDYwZTdmLnNldENvbnRlbnQoaHRtbF80MTI1NjUyMzIxYmM0MGRkYWNhMDgzMTY0NWY5YzAwNSk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfNTk3NmVhMDE5M2RhNDU4MThkYmY4MGQyOGQzOTQwY2UuYmluZFBvcHVwKHBvcHVwXzczYTBlNmI5MWM3YzRlMDA5YWZlNzBkNzNkMDYwZTdmKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNzA0Y2EyZGMzZmE0MjkzYTk5MGI0NTliODcxZGY0ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0LjkxLCAtOTIuOTJdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogImJsdWUiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF9mNzM4YjFhZjE4MTU0YjFhYjUxOTJhNmE3MDdkYmY0YSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMGUxMTlhM2Q2Zjc0NGM3ZTkzZjlhNDdlY2U0OTI5YWYgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2E4Mzc5Y2JhNzU3ODQ4MjU4NjQ2YjY5YzFmOTQxY2VlID0gJChgPGRpdiBpZD0iaHRtbF9hODM3OWNiYTc1Nzg0ODI1ODY0NmI2OWMxZjk0MWNlZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMjksIDEwNzY0OTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wZTExOWEzZDZmNzQ0YzdlOTNmOWE0N2VjZTQ5MjlhZi5zZXRDb250ZW50KGh0bWxfYTgzNzljYmE3NTc4NDgyNTg2NDZiNjljMWY5NDFjZWUpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzI3MDRjYTJkYzNmYTQyOTNhOTkwYjQ1OWI4NzFkZjRmLmJpbmRQb3B1cChwb3B1cF8wZTExOWEzZDZmNzQ0YzdlOTNmOWE0N2VjZTQ5MjlhZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODY4Yzc1NGUxMDcxNDUzY2FlZjM5YTcwZjBhNTZlMzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NywgLTkzLjA5XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICJibHVlIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjczOGIxYWYxODE1NGIxYWI1MTkyYTZhNzA3ZGJmNGEpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzliMmJkZGE0N2EyNTRhMTI4YjM5OGFmMmE1ZWFkMDgyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kOGRmZTA3NWU1NDc0YzFhYmQwOGJkZmNmNDAwNTFhNiA9ICQoYDxkaXYgaWQ9Imh0bWxfZDhkZmUwNzVlNTQ3NGMxYWJkMDhiZGZjZjQwMDUxYTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTMwLCAzMDA5MjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF85YjJiZGRhNDdhMjU0YTEyOGIzOThhZjJhNWVhZDA4Mi5zZXRDb250ZW50KGh0bWxfZDhkZmUwNzVlNTQ3NGMxYWJkMDhiZGZjZjQwMDUxYTYpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzg2OGM3NTRlMTA3MTQ1M2NhZWYzOWE3MGYwYTU2ZTMwLmJpbmRQb3B1cChwb3B1cF85YjJiZGRhNDdhMjU0YTEyOGIzOThhZjJhNWVhZDA4MikKICAgICAgICA7CgogICAgICAgIAogICAgCjwvc2NyaXB0Pg==" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># map_stPaul = folium.Map(location=[latitude, longitude], zoom_start=10)</span>

<span class="c1"># folium.Choropleth(</span>
<span class="c1">#     geo_data=mn_zipcode,</span>
<span class="c1">#     name='MN zip code',</span>
<span class="c1"># ).add_to(map_stPaul)</span>

<span class="c1"># folium.LayerControl().add_to(map_stPaul)</span>

<span class="c1"># map_stPaul</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Removing-zip-codes-that-are-far-awar-from-St.-Paul-area">
<a class="anchor" href="#Removing-zip-codes-that-are-far-awar-from-St.-Paul-area" aria-hidden="true"><span class="octicon octicon-link"></span></a>Removing zip codes that are far awar from St. Paul area<a class="anchor-link" href="#Removing-zip-codes-that-are-far-awar-from-St.-Paul-area"> </a>
</h4>
<p>I am going to remove zip codes that are far away from the St. Paul area:<br>
<code>55109</code>, <code>55110</code>, <code>55111</code>, <code>55112</code>, <code>55115</code>, <code>55118</code>, <code>55120</code>, <code>55121</code>, <code>55122</code>, <code>55123</code>, <code>55124</code>, <code>55125</code>, <code>55126</code>,<code>55127</code>,<code>55128</code>, <code>55129</code></p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dropziplist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'55109'</span><span class="p">,</span><span class="s1">'55110'</span><span class="p">,</span><span class="s1">'55111'</span><span class="p">,</span><span class="s1">'55112'</span><span class="p">,</span> 
               <span class="s1">'55115'</span><span class="p">,</span> <span class="s1">'55118'</span><span class="p">,</span> <span class="s1">'55120'</span><span class="p">,</span> <span class="s1">'55121'</span><span class="p">,</span> 
               <span class="s1">'55122'</span><span class="p">,</span> <span class="s1">'55123'</span><span class="p">,</span> <span class="s1">'55124'</span><span class="p">,</span> <span class="s1">'55125'</span><span class="p">,</span> 
               <span class="s1">'55126'</span><span class="p">,</span><span class="s1">'55127'</span><span class="p">,</span><span class="s1">'55128'</span><span class="p">,</span> <span class="s1">'55129'</span><span class="p">]</span>

<span class="n">zipStPaul</span> <span class="o">=</span> <span class="n">zipStPaul</span><span class="p">[</span><span class="o">~</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">dropziplist</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># saving the dataframe for presentation</span>
<span class="n">zipStPaul</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'zipStPaul.csv'</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="FourSquare-data-from-FourSquare-Places-API.">
<a class="anchor" href="#FourSquare-data-from-FourSquare-Places-API." aria-hidden="true"><span class="octicon octicon-link"></span></a>FourSquare data from FourSquare <a href="https://developer.foursquare.com/docs/api">Places API</a>.<a class="anchor-link" href="#FourSquare-data-from-FourSquare-Places-API."> </a>
</h2>
<p>I will utilize the explore function to get venue recommendations and zone in on the pet related categories (e.g. pet store, dog park, dog friendly restaurants)</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># get the ID and secret from the obfuscated file </span>
<span class="n">CLIENT_ID</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'../../Coursera_Capstone/FSclientID.txt'</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># your Foursquare ID</span>
<span class="n">CLIENT_SECRET</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'../../Coursera_Capstone/FSclientSecret.txt'</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># your Foursquare Secret</span>
<span class="n">VERSION</span> <span class="o">=</span> <span class="s1">'20180605'</span> <span class="c1"># Foursquare API version</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># modified from previous work:</span>
<span class="k">def</span> <span class="nf">getNearbyVenues</span><span class="p">(</span><span class="n">zipcode</span><span class="p">,</span> <span class="n">latitudes</span><span class="p">,</span> <span class="n">longitudes</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span>
    
    <span class="n">venues_list</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">zipcode</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lng</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">zipcode</span><span class="p">,</span> <span class="n">latitudes</span><span class="p">,</span> <span class="n">longitudes</span><span class="p">):</span>
        <span class="c1"># print(name)</span>
            
        <span class="c1"># create the API request URL</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">'https://api.foursquare.com/v2/venues/explore?&amp;client_id=</span><span class="si">{}</span><span class="s1">&amp;client_secret=</span><span class="si">{}</span><span class="s1">&amp;v=</span><span class="si">{}</span><span class="s1">&amp;ll=</span><span class="si">{}</span><span class="s1">,</span><span class="si">{}</span><span class="s1">&amp;radius=</span><span class="si">{}</span><span class="s1">&amp;limit=</span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">CLIENT_ID</span><span class="p">,</span> 
            <span class="n">CLIENT_SECRET</span><span class="p">,</span> 
            <span class="n">VERSION</span><span class="p">,</span> 
            <span class="n">lat</span><span class="p">,</span> 
            <span class="n">lng</span><span class="p">,</span> 
            <span class="n">radius</span><span class="p">,</span> 
            <span class="n">LIMIT</span><span class="p">)</span>
            
        <span class="c1"># make the GET request</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="n">results2</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s2">"response"</span><span class="p">][</span><span class="s1">'groups'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'items'</span><span class="p">]</span>
        
        <span class="c1"># return only relevant information for each nearby venue</span>
        <span class="n">venues_list</span><span class="o">.</span><span class="n">append</span><span class="p">([(</span>
            <span class="n">results</span><span class="p">[</span><span class="s1">'response'</span><span class="p">][</span><span class="s1">'headerLocation'</span><span class="p">],</span> 
            <span class="n">zipcode</span><span class="p">,</span>
            <span class="n">lat</span><span class="p">,</span> 
            <span class="n">lng</span><span class="p">,</span> 
            <span class="n">v</span><span class="p">[</span><span class="s1">'venue'</span><span class="p">][</span><span class="s1">'name'</span><span class="p">],</span> 
            <span class="n">v</span><span class="p">[</span><span class="s1">'venue'</span><span class="p">][</span><span class="s1">'location'</span><span class="p">][</span><span class="s1">'lat'</span><span class="p">],</span> 
            <span class="n">v</span><span class="p">[</span><span class="s1">'venue'</span><span class="p">][</span><span class="s1">'location'</span><span class="p">][</span><span class="s1">'lng'</span><span class="p">],</span> 
            <span class="n">v</span><span class="p">[</span><span class="s1">'venue'</span><span class="p">][</span><span class="s1">'location'</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'postalCode'</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">v</span><span class="p">[</span><span class="s1">'venue'</span><span class="p">][</span><span class="s1">'categories'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'name'</span><span class="p">])</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">results2</span><span class="p">])</span>

    <span class="n">nearby_venues</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">item</span> <span class="k">for</span> <span class="n">venue_list</span> <span class="ow">in</span> <span class="n">venues_list</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">venue_list</span><span class="p">])</span>
    <span class="n">nearby_venues</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Neighborhood'</span><span class="p">,</span>
                             <span class="s1">'Zipcode'</span><span class="p">,</span>
                             <span class="s1">'Neighborhood Latitude'</span><span class="p">,</span> 
                             <span class="s1">'Neighborhood Longitude'</span><span class="p">,</span> 
                             <span class="s1">'Venue'</span><span class="p">,</span> 
                             <span class="s1">'Venue Latitude'</span><span class="p">,</span> 
                             <span class="s1">'Venue Longitude'</span><span class="p">,</span>
                             <span class="s1">'Venue Zipcode'</span><span class="p">,</span>
                             <span class="s1">'Venue Category'</span><span class="p">]</span>
    
    <span class="k">return</span><span class="p">(</span><span class="n">nearby_venues</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">LIMIT</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_venues</span> <span class="o">=</span> <span class="n">getNearbyVenues</span><span class="p">(</span><span class="n">zipcode</span><span class="o">=</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">],</span><span class="n">latitudes</span><span class="o">=</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'latitude'</span><span class="p">],</span>
                               <span class="n">longitudes</span><span class="o">=</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'longitude'</span><span class="p">],</span>
                               <span class="n">radius</span><span class="o">=</span><span class="mi">4000</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_venues</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Neighborhood</th>
      <th>Zipcode</th>
      <th>Neighborhood Latitude</th>
      <th>Neighborhood Longitude</th>
      <th>Venue</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Zipcode</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Saint Paul</td>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Barrel Theory Beer Company</td>
      <td>44.951021</td>
      <td>-93.088258</td>
      <td>55101</td>
      <td>Brewery</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Saint Paul</td>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Mears Park</td>
      <td>44.949371</td>
      <td>-93.087920</td>
      <td>55101</td>
      <td>Park</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Saint Paul</td>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>The Buttered Tin</td>
      <td>44.950857</td>
      <td>-93.088679</td>
      <td>55101</td>
      <td>Bakery</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Saint Paul</td>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>CHS Field</td>
      <td>44.950619</td>
      <td>-93.084789</td>
      <td>55101</td>
      <td>Baseball Stadium</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Saint Paul</td>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>St. Paul Farmers' Market</td>
      <td>44.949620</td>
      <td>-93.085131</td>
      <td>55101</td>
      <td>Farmers Market</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_venues</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(1400, 9)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cleaning-up-the-petstpaul_venues-data">
<a class="anchor" href="#Cleaning-up-the-petstpaul_venues-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cleaning up the <code>petstpaul_venues</code> data<a class="anchor-link" href="#Cleaning-up-the-petstpaul_venues-data"> </a>
</h4>
<p>I clean up the stpaul_venues data through the following methods:</p>
<ul>
<li>Based on the <code>Venue</code> column, separate the unique and duplicated values into two</li>
<li>In unique dataframe, fill in the <code>Venue Zipcode</code> column with the <code>Zipcode</code> column </li>
<li>In duplicated dataframe, separate them into zero <code>Venue Zipcode</code> and non-zero <code>Venue Zipcode</code> dataframe:<ul>
<li>for non-zero <code>Venue Zipcode</code> dataframe, only keep the values where <code>Venue Zipcode</code> and <code>Zipcode</code> column matches</li>
<li>for zero <code>Venue Zipcode</code> dataframe, search manually and fill in the missing zipcode value</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Separate-the-unique-and-duplicated-values-into-two:">
<a class="anchor" href="#Separate-the-unique-and-duplicated-values-into-two:" aria-hidden="true"><span class="octicon octicon-link"></span></a>Separate the unique and duplicated values into two:<a class="anchor-link" href="#Separate-the-unique-and-duplicated-values-into-two:"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unique_stpaul_venues</span> <span class="o">=</span> <span class="n">stpaul_venues</span><span class="p">[</span><span class="o">~</span><span class="n">stpaul_venues</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">,</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">stpaul_venues</span><span class="p">[</span><span class="n">stpaul_venues</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">,</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="In-unique-dataframe,-fill-in-the-Venue-Zipcode-column-with-the-Zipcode-column">
<a class="anchor" href="#In-unique-dataframe,-fill-in-the-Venue-Zipcode-column-with-the-Zipcode-column" aria-hidden="true"><span class="octicon octicon-link"></span></a>In unique dataframe, fill in the <code>Venue Zipcode</code> column with the <code>Zipcode</code> column<a class="anchor-link" href="#In-unique-dataframe,-fill-in-the-Venue-Zipcode-column-with-the-Zipcode-column"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unique_stpaul_venues</span> <span class="o">=</span> <span class="n">unique_stpaul_venues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">unique_stpaul_venues</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">unique_stpaul_venues</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">unique_stpaul_venues</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="n">unique_stpaul_venues</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="s1">'Zipcode'</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="In-duplicated-dataframe,-separate-them-into-zero-Venue-Zipcode-and-non-zero-Venue-Zipcode-dataframe:">
<a class="anchor" href="#In-duplicated-dataframe,-separate-them-into-zero-Venue-Zipcode-and-non-zero-Venue-Zipcode-dataframe:" aria-hidden="true"><span class="octicon octicon-link"></span></a>In duplicated dataframe, separate them into zero <code>Venue Zipcode</code> and non-zero <code>Venue Zipcode</code> dataframe:<a class="anchor-link" href="#In-duplicated-dataframe,-separate-them-into-zero-Venue-Zipcode-and-non-zero-Venue-Zipcode-dataframe:"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">duplicated_stpaul_venues</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">)</span>
<span class="n">zero_duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">duplicated_stpaul_venues</span><span class="p">[</span><span class="n">duplicated_stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="n">nonzero_duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">duplicated_stpaul_venues</span><span class="p">[</span><span class="o">~</span><span class="p">(</span><span class="n">duplicated_stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="for-non-zero-Venue-Zipcode-dataframe,-only-keep-the-values-where-Venue-Zipcode-and-Zipcode-column-matches">
<a class="anchor" href="#for-non-zero-Venue-Zipcode-dataframe,-only-keep-the-values-where-Venue-Zipcode-and-Zipcode-column-matches" aria-hidden="true"><span class="octicon octicon-link"></span></a>for non-zero <code>Venue Zipcode</code> dataframe, only keep the values where <code>Venue Zipcode</code> and <code>Zipcode</code> column matches<a class="anchor-link" href="#for-non-zero-Venue-Zipcode-dataframe,-only-keep-the-values-where-Venue-Zipcode-and-Zipcode-column-matches"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nonzero_duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">nonzero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">nonzero_duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">nonzero_duplicated_stpaul_venues</span><span class="p">[</span>
    <span class="n">nonzero_duplicated_stpaul_venues</span><span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span><span class="o">==</span><span class="n">nonzero_duplicated_stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="for-zero-Venue-Zipcode-dataframe,-search-manually-and-fill-in-the-missing-zipcode-value">
<a class="anchor" href="#for-zero-Venue-Zipcode-dataframe,-search-manually-and-fill-in-the-missing-zipcode-value" aria-hidden="true"><span class="octicon octicon-link"></span></a>for zero <code>Venue Zipcode</code> dataframe, search manually and fill in the missing zipcode value<a class="anchor-link" href="#for-zero-Venue-Zipcode-dataframe,-search-manually-and-fill-in-the-missing-zipcode-value"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zero_duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(33, 9)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">29</span><span class="p">:</span><span class="mi">33</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Neighborhood</th>
      <th>Zipcode</th>
      <th>Neighborhood Latitude</th>
      <th>Neighborhood Longitude</th>
      <th>Venue</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Zipcode</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>29</th>
      <td>Saint Paul</td>
      <td>55106</td>
      <td>44.94</td>
      <td>-93.05</td>
      <td>Subtext Books</td>
      <td>44.945629</td>
      <td>-93.094695</td>
      <td>0</td>
      <td>Bookstore</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Saint Paul</td>
      <td>55130</td>
      <td>44.97</td>
      <td>-93.09</td>
      <td>Subtext Books</td>
      <td>44.945629</td>
      <td>-93.094695</td>
      <td>0</td>
      <td>Bookstore</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Saint Paul</td>
      <td>55107</td>
      <td>44.93</td>
      <td>-93.09</td>
      <td>Subtext Books</td>
      <td>44.945629</td>
      <td>-93.094695</td>
      <td>0</td>
      <td>Bookstore</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Saint Paul</td>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Subtext Books</td>
      <td>44.945629</td>
      <td>-93.094695</td>
      <td>0</td>
      <td>Bookstore</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Carl's Gizmo</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55108'</span>
<span class="c1"># Falcon Heights Community Park</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55113'</span>
<span class="c1"># Leinie Lodge Bandshell</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">6</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55108'</span>
<span class="c1"># Lulu's Public House</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55108'</span>
<span class="c1"># machinery hills</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">13</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55108'</span>
<span class="c1"># mighty midway</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">17</span><span class="p">,</span> <span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55113'</span>
<span class="c1"># minneaple pie</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">19</span><span class="p">,</span> <span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55108'</span>
<span class="c1"># real meal deli</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">24</span><span class="p">,</span> <span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55101'</span>
<span class="c1"># redbox - Maplewood</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">26</span><span class="p">,</span> <span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55117'</span>
<span class="c1"># redbox - St Paul</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">27</span><span class="p">,</span> <span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55119'</span>
<span class="c1"># redbox - Maplewood</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">28</span><span class="p">,</span> <span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55117'</span>
<span class="c1"># subtext books</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">29</span><span class="p">,</span> <span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55102'</span>
<span class="c1"># subtext books</span>
<span class="n">zero_duplicated_stpaul_venues</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">29</span><span class="p">,</span> <span class="s1">'Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'55102'</span>

<span class="n">zero_duplicated_stpaul_venues</span> <span class="o">=</span> <span class="n">zero_duplicated_stpaul_venues</span><span class="p">[</span>
    <span class="n">zero_duplicated_stpaul_venues</span><span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span><span class="o">==</span><span class="n">zero_duplicated_stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zero_duplicated_stpaul_venues</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Neighborhood</th>
      <th>Zipcode</th>
      <th>Neighborhood Latitude</th>
      <th>Neighborhood Longitude</th>
      <th>Venue</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Zipcode</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Falcon Heights</td>
      <td>55108</td>
      <td>44.98</td>
      <td>-93.18</td>
      <td>Carl's Gizmo</td>
      <td>44.986444</td>
      <td>-93.169245</td>
      <td>55108</td>
      <td>Sandwich Place</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Roseville</td>
      <td>55113</td>
      <td>45.01</td>
      <td>-93.16</td>
      <td>Falcon Heights Community Park</td>
      <td>44.998524</td>
      <td>-93.185745</td>
      <td>55113</td>
      <td>Park</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Falcon Heights</td>
      <td>55108</td>
      <td>44.98</td>
      <td>-93.18</td>
      <td>Leinie Lodge Bandshell - Minnesota State Fair</td>
      <td>44.979990</td>
      <td>-93.168811</td>
      <td>55108</td>
      <td>Concert Hall</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Falcon Heights</td>
      <td>55108</td>
      <td>44.98</td>
      <td>-93.18</td>
      <td>Lulu's Public House</td>
      <td>44.981229</td>
      <td>-93.177533</td>
      <td>55108</td>
      <td>Southern / Soul Food Restaurant</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Falcon Heights</td>
      <td>55108</td>
      <td>44.98</td>
      <td>-93.18</td>
      <td>Machinery Hill - Minnesota State Fair</td>
      <td>44.985519</td>
      <td>-93.169700</td>
      <td>55108</td>
      <td>Electronics Store</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Roseville</td>
      <td>55113</td>
      <td>45.01</td>
      <td>-93.16</td>
      <td>Mighty Midway</td>
      <td>44.980074</td>
      <td>-93.175349</td>
      <td>55113</td>
      <td>Theme Park Ride / Attraction</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Falcon Heights</td>
      <td>55108</td>
      <td>44.98</td>
      <td>-93.18</td>
      <td>Minneapple Pie</td>
      <td>44.978595</td>
      <td>-93.171173</td>
      <td>55108</td>
      <td>Diner</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Saint Paul</td>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Real Meal Delicatessen</td>
      <td>44.947036</td>
      <td>-93.090568</td>
      <td>55101</td>
      <td>American Restaurant</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Maplewood</td>
      <td>55117</td>
      <td>45.00</td>
      <td>-93.10</td>
      <td>Redbox</td>
      <td>44.976818</td>
      <td>-93.067060</td>
      <td>55117</td>
      <td>Video Store</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Saint Paul</td>
      <td>55119</td>
      <td>44.94</td>
      <td>-93.01</td>
      <td>Redbox</td>
      <td>44.962580</td>
      <td>-92.984799</td>
      <td>55119</td>
      <td>Video Store</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Maplewood</td>
      <td>55117</td>
      <td>45.00</td>
      <td>-93.10</td>
      <td>Redbox</td>
      <td>44.987457</td>
      <td>-93.105877</td>
      <td>55117</td>
      <td>Video Store</td>
    </tr>
    <tr>
      <th>29</th>
      <td>Saint Paul</td>
      <td>55102</td>
      <td>44.94</td>
      <td>-93.05</td>
      <td>Subtext Books</td>
      <td>44.945629</td>
      <td>-93.094695</td>
      <td>55102</td>
      <td>Bookstore</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Combining-them-all-back">
<a class="anchor" href="#Combining-them-all-back" aria-hidden="true"><span class="octicon octicon-link"></span></a>Combining them all back<a class="anchor-link" href="#Combining-them-all-back"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_venues</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">nonzero_duplicated_stpaul_venues</span><span class="p">,</span><span class="n">zero_duplicated_stpaul_venues</span><span class="p">,</span> <span class="n">unique_stpaul_venues</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Ensuring-the-venues-are-all-located-in-St.-Paul-region-zipcode">
<a class="anchor" href="#Ensuring-the-venues-are-all-located-in-St.-Paul-region-zipcode" aria-hidden="true"><span class="octicon octicon-link"></span></a>Ensuring the venues are all located in St. Paul region zipcode<a class="anchor-link" href="#Ensuring-the-venues-are-all-located-in-St.-Paul-region-zipcode"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># set Venue Zipcode column into integer so that I can sort it by values</span>
<span class="n">stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="n">stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># sort by Venue Zipcode value</span>
<span class="n">stpaul_venues</span> <span class="o">=</span> <span class="n">stpaul_venues</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'Venue Zipcode'</span><span class="p">)</span>
<span class="c1"># ensure that venues are located in the zipStPaul['zipcode']</span>
<span class="n">stpaul_venues</span> <span class="o">=</span> <span class="n">stpaul_venues</span><span class="p">[</span><span class="n">stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">])]</span>
<span class="c1"># reset the index</span>
<span class="n">stpaul_venues</span> <span class="o">=</span> <span class="n">stpaul_venues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># see what the shape look like</span>
<span class="n">stpaul_venues</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(562, 9)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Let's-save-the-queries-into-a-csv-file:">
<a class="anchor" href="#Let's-save-the-queries-into-a-csv-file:" aria-hidden="true"><span class="octicon octicon-link"></span></a>Let's save the queries into a csv file:<a class="anchor-link" href="#Let's-save-the-queries-into-a-csv-file:"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_venues</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'stpaul_venues.csv'</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Let's-inspect-the-different-categories">
<a class="anchor" href="#Let's-inspect-the-different-categories" aria-hidden="true"><span class="octicon octicon-link"></span></a>Let's inspect the different categories<a class="anchor-link" href="#Let's-inspect-the-different-categories"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array(['Pizza Place', 'Southern / Soul Food Restaurant', 'Dessert Shop',
       'Brewery', 'New American Restaurant', 'Breakfast Spot',
       'Baseball Stadium', 'Gym / Fitness Center', 'Dive Bar',
       'Asian Restaurant', 'Train Station', 'Sandwich Place', 'Bakery',
       'Liquor Store', 'Coffee Shop', 'Hotel', 'Farmers Market',
       'Theater', 'Gym', 'Thai Restaurant', 'Café', 'Supermarket', 'Bar',
       'Beer Bar', 'Trail', 'American Restaurant', 'Park',
       'Italian Restaurant', 'Non-Profit', 'Mexican Restaurant', 'Spa',
       'Restaurant', 'French Restaurant', 'Lounge', 'Scenic Lookout',
       'Museum', "Men's Store", 'Movie Theater', 'Performing Arts Venue',
       'Eastern European Restaurant', 'Organic Grocery', 'Music Venue',
       'Cocktail Bar', 'History Museum', 'Diner', 'Athletics &amp; Sports',
       'Steakhouse', 'Burger Joint', 'Sporting Goods Shop', 'Market',
       'Science Museum', 'Wine Shop', 'Dog Run', 'Gastropub',
       'Donut Shop', 'Residential Building (Apartment / Condo)',
       'Candy Store', 'Bookstore', 'Jazz Club', 'Hockey Arena',
       'Clothing Store', 'African Restaurant', 'Pub',
       'Vietnamese Restaurant', 'Garden', 'Zoo Exhibit', 'Lake',
       'Noodle House', 'Zoo', 'Theme Park', 'Korean Restaurant',
       'Mini Golf', 'Chinese Restaurant', 'Soccer Stadium',
       'Turkish Restaurant', 'Gift Shop', 'Bistro',
       'Ethiopian Restaurant', 'Vegetarian / Vegan Restaurant', 'Pool',
       'Garden Center', 'Thrift / Vintage Store', 'Toy / Game Store',
       'Ramen Restaurant', 'BBQ Joint', 'Rock Club', 'Hobby Shop',
       'Boutique', 'Bubble Tea Shop', 'Arts &amp; Crafts Store',
       'Music Store', 'Salon / Barbershop', 'Grocery Store', 'Wine Bar',
       'Butcher', 'Cheese Shop', 'Sushi Restaurant',
       'Mediterranean Restaurant', 'Gourmet Shop', 'Smoke Shop',
       'Taco Place', 'Juice Bar', 'Ice Cream Shop', "Women's Store",
       'Yoga Studio', 'Cosmetics Shop', 'Seafood Restaurant',
       'Fast Food Restaurant', 'Church', 'Indie Theater',
       'Basketball Court', 'Sports Bar', 'Motel', 'Burrito Place',
       'Harbor / Marina', 'Automotive Shop', 'Electronics Store',
       'Scandinavian Restaurant', 'Event Space', 'Exhibit',
       'General College &amp; University', 'Concert Hall',
       'General Entertainment', 'Caribbean Restaurant', 'Bagel Shop',
       'Stadium', 'Snack Place', 'Campground', 'Beer Garden', 'Casino',
       'Kitchen Supply Store', 'Shoe Store', 'German Restaurant',
       'Department Store', 'Golf Course', 'Jewelry Store',
       'Mobile Phone Shop', 'Disc Golf', 'Indian Restaurant',
       'Shopping Mall', 'Lingerie Store', 'Skating Rink',
       'Furniture / Home Store', 'Bike Shop', 'Greek Restaurant',
       'Miscellaneous Shop', 'Big Box Store', 'Pet Store',
       'Theme Park Ride / Attraction', 'Middle Eastern Restaurant',
       'Antique Shop', 'Record Shop', 'Tea Room', 'Massage Studio',
       'Deli / Bodega', 'Frozen Yogurt Shop', 'Hookah Bar',
       'Discount Store', 'Soccer Field', 'Gas Station', 'Beach',
       'Tex-Mex Restaurant', 'Video Store', 'Veterinarian',
       'Baseball Field', 'Coworking Space', 'Bowling Alley', 'ATM',
       'Pharmacy', 'Supplement Shop'], dtype=object)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Category of interests are:</p>
<ul>
<li>Dog Run</li>
<li>Pet Store</li>
<li>Veterinarian</li>
</ul>
<p>How many of them are there in the dataset?</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># listing all the category of interest:</span>
<span class="n">catInt</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Dog Run'</span><span class="p">,</span><span class="s1">'Pet Store'</span><span class="p">,</span><span class="s1">'Veterinarian'</span><span class="p">]</span>
<span class="c1"># subsetting the data</span>
<span class="n">justpetfoursquare</span><span class="o">=</span> <span class="n">stpaul_venues</span><span class="p">[</span><span class="n">stpaul_venues</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">catInt</span><span class="p">)]</span>
<span class="c1"># resetting the index:</span>
<span class="n">justpetfoursquare</span> <span class="o">=</span> <span class="n">justpetfoursquare</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">justpetfoursquare</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Neighborhood</th>
      <th>Zipcode</th>
      <th>Neighborhood Latitude</th>
      <th>Neighborhood Longitude</th>
      <th>Venue</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Zipcode</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Saint Paul</td>
      <td>55102</td>
      <td>44.93</td>
      <td>-93.12</td>
      <td>High Bridge Dog Park</td>
      <td>44.935525</td>
      <td>-93.106320</td>
      <td>55102</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Roseville</td>
      <td>55113</td>
      <td>45.01</td>
      <td>-93.16</td>
      <td>Chuck &amp; Don's Pet Food Outlet</td>
      <td>45.024081</td>
      <td>-93.169918</td>
      <td>55113</td>
      <td>Pet Store</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Saint Paul</td>
      <td>55114</td>
      <td>44.97</td>
      <td>-93.20</td>
      <td>Twin Cities Reptiles</td>
      <td>44.963767</td>
      <td>-93.196522</td>
      <td>55114</td>
      <td>Pet Store</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Saint Paul</td>
      <td>55116</td>
      <td>44.91</td>
      <td>-93.17</td>
      <td>Chuck &amp; Don's Pet Food Outlet</td>
      <td>44.916832</td>
      <td>-93.189630</td>
      <td>55116</td>
      <td>Pet Store</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Saint Paul</td>
      <td>55116</td>
      <td>44.91</td>
      <td>-93.17</td>
      <td>Petco</td>
      <td>44.918520</td>
      <td>-93.196697</td>
      <td>55116</td>
      <td>Pet Store</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Maplewood</td>
      <td>55117</td>
      <td>45.00</td>
      <td>-93.10</td>
      <td>Como Park Animal Hospital</td>
      <td>44.971809</td>
      <td>-93.125984</td>
      <td>55117</td>
      <td>Veterinarian</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Saint Paul</td>
      <td>55119</td>
      <td>44.94</td>
      <td>-93.01</td>
      <td>Battle Creek Dog Park</td>
      <td>44.939410</td>
      <td>-93.001641</td>
      <td>55119</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Saint Paul</td>
      <td>55130</td>
      <td>44.97</td>
      <td>-93.09</td>
      <td>Arlington Arkwright Dog Park</td>
      <td>44.982032</td>
      <td>-93.083346</td>
      <td>55130</td>
      <td>Dog Run</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There are only 8 values and there should be more. So, I will augment the values from FourSquare API with values from <strong>yelp API</strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Yelp-API">
<a class="anchor" href="#Yelp-API" aria-hidden="true"><span class="octicon octicon-link"></span></a>Yelp API<a class="anchor-link" href="#Yelp-API"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># get the ID and secret from the obfuscated file </span>
<span class="n">APIkey</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">'../../brainstorming/yelp-cred/APIkey'</span><span class="p">,</span><span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># my yelp APIkey</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">'Authorization'</span><span class="p">:</span> <span class="s1">'Bearer </span><span class="si">%s</span><span class="s1">'</span> <span class="o">%</span> <span class="n">APIkey</span><span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># yelp has a limit of 50 for their query</span>
<span class="n">LIMIT</span> <span class="o">=</span> <span class="mi">50</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># modified from the earlier function to match the yelp API</span>
<span class="k">def</span> <span class="nf">getQueryVenues</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">zipcode</span><span class="p">,</span> <span class="n">latitudes</span><span class="p">,</span> <span class="n">longitudes</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span>
    
    <span class="n">venues_list</span><span class="o">=</span><span class="p">[]</span>
    <span class="k">for</span> <span class="n">zipcode</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lng</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">zipcode</span><span class="p">,</span> <span class="n">latitudes</span><span class="p">,</span> <span class="n">longitudes</span><span class="p">):</span>
        
        <span class="c1"># create the API request URL</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s1">'https://api.yelp.com/v3/businesses/search?term=</span><span class="si">{}</span><span class="s1">&amp;latitude=</span><span class="si">{}</span><span class="s1">&amp;longitude=</span><span class="si">{}</span><span class="s1">&amp;radius=</span><span class="si">{}</span><span class="s1">&amp;limit=</span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="n">query</span><span class="p">,</span>
            <span class="n">lat</span><span class="p">,</span> 
            <span class="n">lng</span><span class="p">,</span> 
            <span class="n">radius</span><span class="p">,</span> 
            <span class="n">LIMIT</span><span class="p">)</span>
            
        <span class="c1"># make the GET request</span>
        <span class="n">results</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">'businesses'</span><span class="p">]</span>
        
        
        <span class="c1"># return only relevant information for each nearby venue</span>
        <span class="n">venues_list</span><span class="o">.</span><span class="n">append</span><span class="p">([(</span>
            <span class="n">zipcode</span><span class="p">,</span> 
            <span class="n">lat</span><span class="p">,</span> 
            <span class="n">lng</span><span class="p">,</span> 
            <span class="n">v</span><span class="p">[</span><span class="s1">'name'</span><span class="p">],</span> 
            <span class="n">v</span><span class="p">[</span><span class="s1">'location'</span><span class="p">][</span><span class="s1">'zip_code'</span><span class="p">],</span>
            <span class="n">v</span><span class="p">[</span><span class="s1">'coordinates'</span><span class="p">][</span><span class="s1">'latitude'</span><span class="p">],</span> 
            <span class="n">v</span><span class="p">[</span><span class="s1">'coordinates'</span><span class="p">][</span><span class="s1">'longitude'</span><span class="p">],</span>  
            <span class="n">v</span><span class="p">[</span><span class="s1">'categories'</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">'title'</span><span class="p">])</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">results</span><span class="p">])</span>

    <span class="n">nearby_venues</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">item</span> <span class="k">for</span> <span class="n">venue_list</span> <span class="ow">in</span> <span class="n">venues_list</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">venue_list</span><span class="p">])</span>
    <span class="n">nearby_venues</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'zip_code'</span><span class="p">,</span> 
                  <span class="s1">'Zipcode Latitude'</span><span class="p">,</span> 
                  <span class="s1">'Zipcode Longitude'</span><span class="p">,</span> 
                  <span class="s1">'Venue'</span><span class="p">,</span>
                  <span class="s1">'Venue Zipcode'</span><span class="p">,</span>
                  <span class="s1">'Venue Latitude'</span><span class="p">,</span> 
                  <span class="s1">'Venue Longitude'</span><span class="p">,</span> 
                  <span class="s1">'Venue Category'</span><span class="p">]</span>
    <span class="k">return</span><span class="p">(</span><span class="n">nearby_venues</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">petstpaul_venues</span> <span class="o">=</span> <span class="n">getQueryVenues</span><span class="p">(</span><span class="n">query</span><span class="o">=</span><span class="s1">'pet'</span><span class="p">,</span>
                                  <span class="n">zipcode</span><span class="o">=</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">],</span>
                                  <span class="n">latitudes</span><span class="o">=</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'latitude'</span><span class="p">],</span>
                                  <span class="n">longitudes</span><span class="o">=</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'longitude'</span><span class="p">],</span>
                                  <span class="n">radius</span><span class="o">=</span><span class="mi">4000</span><span class="p">)</span>
<span class="n">petstpaul_venues</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(660, 8)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># limit only to the zipcode from what we queried in zipStPaul:</span>
<span class="n">petstpaul_venues</span> <span class="o">=</span> <span class="n">petstpaul_venues</span><span class="p">[</span><span class="n">petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">zipStPaul</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">])]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cleaning-up-the-petstpaul_venues-data">
<a class="anchor" href="#Cleaning-up-the-petstpaul_venues-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cleaning up the <code>petstpaul_venues</code> data<a class="anchor-link" href="#Cleaning-up-the-petstpaul_venues-data"> </a>
</h4>
<p>I clean up the <code>petstpaul_venues</code> data through the following methods:</p>
<ul>
<li>Based on the <code>Venue</code> column, separate the unique and duplicated values into two</li>
<li>In unique dataframe, they are all set!</li>
<li>In duplicated dataframe, separate them into rows where <code>Venue Zipcode</code> and <code>Zipcode</code> are the same and rows where they are not:<ul>
<li>Keep all the values when <code>Venue Zipcode</code> and <code>Zipcode</code> are the same</li>
<li>Remove the duplicates when <code>Venue Zipcode</code> and <code>Zipcode</code> are not the same</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Based-on-the-Venue-column,-separate-the-unique-and-duplicated-values-into-two">
<a class="anchor" href="#Based-on-the-Venue-column,-separate-the-unique-and-duplicated-values-into-two" aria-hidden="true"><span class="octicon octicon-link"></span></a>Based on the <code>Venue</code> column, separate the unique and duplicated values into two<a class="anchor-link" href="#Based-on-the-Venue-column,-separate-the-unique-and-duplicated-values-into-two"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">unique_petstpaul_venues</span> <span class="o">=</span> <span class="n">petstpaul_venues</span><span class="p">[</span><span class="o">~</span><span class="n">petstpaul_venues</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">,</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="n">duplicated_petstpaul_venues</span> <span class="o">=</span> <span class="n">petstpaul_venues</span><span class="p">[</span><span class="n">petstpaul_venues</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">,</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
<span class="c1"># see the unique values:</span>
<span class="n">unique_petstpaul_venues</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zip_code</th>
      <th>Zipcode Latitude</th>
      <th>Zipcode Longitude</th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>301</th>
      <td>55107</td>
      <td>44.93</td>
      <td>-93.09</td>
      <td>The Day Spaw</td>
      <td>55107</td>
      <td>44.882454</td>
      <td>-93.076205</td>
      <td>Pet Groomers</td>
    </tr>
    <tr>
      <th>382</th>
      <td>55113</td>
      <td>45.01</td>
      <td>-93.16</td>
      <td>Metro Pet Spa</td>
      <td>55113</td>
      <td>45.032089</td>
      <td>-93.176186</td>
      <td>Pet Sitting</td>
    </tr>
    <tr>
      <th>570</th>
      <td>55119</td>
      <td>44.94</td>
      <td>-93.01</td>
      <td>Funtastic K9 Training</td>
      <td>55119</td>
      <td>44.949660</td>
      <td>-93.017220</td>
      <td>Pet Training</td>
    </tr>
    <tr>
      <th>574</th>
      <td>55119</td>
      <td>44.94</td>
      <td>-93.01</td>
      <td>Century Animal Clinic</td>
      <td>55119</td>
      <td>44.966652</td>
      <td>-92.985361</td>
      <td>Veterinarians</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="In-unique-dataframe,-they-are-all-set!">
<a class="anchor" href="#In-unique-dataframe,-they-are-all-set!" aria-hidden="true"><span class="octicon octicon-link"></span></a>In unique dataframe, they are all set!<a class="anchor-link" href="#In-unique-dataframe,-they-are-all-set!"> </a>
</h5>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="In-duplicated-dataframe,-separate-them-into-rows-where-Venue-Zipcode-and-Zipcode-are-the-same-and-rows-where-they-are-not:">
<a class="anchor" href="#In-duplicated-dataframe,-separate-them-into-rows-where-Venue-Zipcode-and-Zipcode-are-the-same-and-rows-where-they-are-not:" aria-hidden="true"><span class="octicon octicon-link"></span></a>In duplicated dataframe, separate them into rows where <code>Venue Zipcode</code> and <code>Zipcode</code> are the same and rows where they are not:<a class="anchor-link" href="#In-duplicated-dataframe,-separate-them-into-rows-where-Venue-Zipcode-and-Zipcode-are-the-same-and-rows-where-they-are-not:"> </a>
</h5>
<h5 id="Keep-all-the-values-when-Venue-Zipcode-and-Zipcode-are-the-same">
<a class="anchor" href="#Keep-all-the-values-when-Venue-Zipcode-and-Zipcode-are-the-same" aria-hidden="true"><span class="octicon octicon-link"></span></a>Keep all the values when <code>Venue Zipcode</code> and <code>Zipcode</code> are the same<a class="anchor-link" href="#Keep-all-the-values-when-Venue-Zipcode-and-Zipcode-are-the-same"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">duplicated_petstpaul_venues</span> <span class="o">=</span> <span class="n">duplicated_petstpaul_venues</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">)</span>
<span class="n">duplicated_petstpaul_venues</span> <span class="o">=</span> <span class="n">duplicated_petstpaul_venues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">value_duplicated_petstpaul_venues</span> <span class="o">=</span> <span class="n">duplicated_petstpaul_venues</span><span class="p">[</span>
    <span class="n">duplicated_petstpaul_venues</span><span class="p">[</span><span class="s1">'zip_code'</span><span class="p">]</span><span class="o">==</span><span class="n">duplicated_petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]]</span>
<span class="n">value_duplicated_petstpaul_venues</span> <span class="o">=</span> <span class="n">value_duplicated_petstpaul_venues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">value_duplicated_petstpaul_venues</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(65, 8)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Remove-the-duplicates-when-Venue-Zipcode-and-Zipcode-are-not-the-same">
<a class="anchor" href="#Remove-the-duplicates-when-Venue-Zipcode-and-Zipcode-are-not-the-same" aria-hidden="true"><span class="octicon octicon-link"></span></a>Remove the duplicates when <code>Venue Zipcode</code> and <code>Zipcode</code> are not the same<a class="anchor-link" href="#Remove-the-duplicates-when-Venue-Zipcode-and-Zipcode-are-not-the-same"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pickled_duplicated_petstpaul_venues</span> <span class="o">=</span> <span class="n">duplicated_petstpaul_venues</span><span class="p">[</span>
    <span class="o">~</span><span class="p">(</span><span class="n">duplicated_petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">value_duplicated_petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue'</span><span class="p">]))]</span>
<span class="n">pickled_duplicated_petstpaul_venues</span> <span class="o">=</span> <span class="n">pickled_duplicated_petstpaul_venues</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">)</span>
<span class="n">pickled_duplicated_petstpaul_venues</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zip_code</th>
      <th>Zipcode Latitude</th>
      <th>Zipcode Longitude</th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12</th>
      <td>55130</td>
      <td>44.97</td>
      <td>-93.09</td>
      <td>Animal House Pet Styling</td>
      <td>55113</td>
      <td>45.019765</td>
      <td>-93.105945</td>
      <td>Pet Services</td>
    </tr>
    <tr>
      <th>261</th>
      <td>55130</td>
      <td>44.97</td>
      <td>-93.09</td>
      <td>The Woof Room</td>
      <td>55113</td>
      <td>45.002530</td>
      <td>-93.106430</td>
      <td>Pet Sitting</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Combining-all-the-values">
<a class="anchor" href="#Combining-all-the-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Combining all the values<a class="anchor-link" href="#Combining-all-the-values"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">petstpaul_venues</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">unique_petstpaul_venues</span><span class="p">,</span>
                              <span class="n">value_duplicated_petstpaul_venues</span><span class="p">,</span> 
                              <span class="n">pickled_duplicated_petstpaul_venues</span><span class="p">])</span>
<span class="n">petstpaul_venues</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(71, 8)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="resetting-the-index">
<a class="anchor" href="#resetting-the-index" aria-hidden="true"><span class="octicon octicon-link"></span></a>resetting the index<a class="anchor-link" href="#resetting-the-index"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="n">petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">petstpaul_venues</span> <span class="o">=</span> <span class="n">petstpaul_venues</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'Venue Zipcode'</span><span class="p">)</span>
<span class="n">petstpaul_venues</span> <span class="o">=</span> <span class="n">petstpaul_venues</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array(['Dog Walkers', 'Pet Groomers', 'Veterinarians', 'Pet Sitting',
       'Pet Stores', 'Pet Training', 'Pet Services', 'Animal Shelters',
       'Event Photography', 'Pet Photography', 'Cremation Services',
       'Bird Shops'], dtype=object)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># saving the dataframe for presentation</span>
<span class="n">petstpaul_venues</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'petstpaul_venues.csv'</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In order to make life a bit easier, we are going to focus on dogs and cats services, so the categories that we are going to consider are:</p>
<ul>
<li>Dog Walkers</li>
<li>Veterinarians </li>
<li>Pet Groomers</li>
<li>Pet Sitting</li>
<li>Pet Stores</li>
<li>Pet Training</li>
<li>Pet Services</li>
<li>Animal Shelters</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">catInt2</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Dog Walkers'</span><span class="p">,</span><span class="s1">'Veterinarians'</span><span class="p">,</span><span class="s1">'Pet Groomers'</span><span class="p">,</span><span class="s1">'Pet Sitting'</span><span class="p">,</span>
           <span class="s1">'Pet Stores'</span><span class="p">,</span><span class="s1">'Pet Training'</span><span class="p">,</span><span class="s1">'Pet Services'</span><span class="p">,</span><span class="s1">'Animal Shelters'</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">justpetyelp</span><span class="o">=</span> <span class="n">petstpaul_venues</span><span class="p">[</span><span class="n">petstpaul_venues</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">catInt2</span><span class="p">)]</span>
<span class="n">justpetyelp</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(67, 8)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">justpetyelp</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zip_code</th>
      <th>Zipcode Latitude</th>
      <th>Zipcode Longitude</th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Wags Professional Pet Services</td>
      <td>55101</td>
      <td>44.948967</td>
      <td>-93.084534</td>
      <td>Dog Walkers</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Lofty Dogs</td>
      <td>55101</td>
      <td>44.949890</td>
      <td>-93.086370</td>
      <td>Dog Walkers</td>
    </tr>
    <tr>
      <th>2</th>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Urban Animal Kingdom</td>
      <td>55101</td>
      <td>44.945536</td>
      <td>-93.091914</td>
      <td>Dog Walkers</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Aska Pet Spa &amp; Boutique</td>
      <td>55101</td>
      <td>44.950398</td>
      <td>-93.090086</td>
      <td>Pet Groomers</td>
    </tr>
    <tr>
      <th>4</th>
      <td>55101</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>Pomeroy's Animal Hospital &amp; Clinic</td>
      <td>55101</td>
      <td>44.950760</td>
      <td>-93.091043</td>
      <td>Veterinarians</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Combining-stpaul_venues-and-justpetyelp-and-cleaning-up-the-combined_df-data">
<a class="anchor" href="#Combining-stpaul_venues-and-justpetyelp-and-cleaning-up-the-combined_df-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Combining <code>stpaul_venues</code> and <code>justpetyelp</code> and cleaning up the <code>combined_df</code> data<a class="anchor-link" href="#Combining-stpaul_venues-and-justpetyelp-and-cleaning-up-the-combined_df-data"> </a>
</h4>
<p>I combine the two dataframe and named it <code>combined_df</code>. I cleaned up the <code>combined_df</code> data through the following methods:</p>
<ul>
<li>Separate the dataframe in two based on the categories in the <code>stpaul_venues</code> and <code>justpetyelp</code>: <code>check_one</code> and <code>check_two</code>
</li>
<li>We will keep the dataframe without the categories in the <code>stpaul_venues</code> and <code>justpetyelp</code> (<code>check_two</code>) intact</li>
<li>In <code>check_one</code> dataframe, separate them into rows where there are duplicates in <code>Venue</code> and rows where they are not (<code>duplicated_check_one</code> and <code>unique_check_one</code>):<ul>
<li>Check manually and remove the duplicates on <code>duplicated_check_one</code> </li>
<li>Remove the duplicates when <code>Venue Zipcode</code> and <code>Zipcode</code> are not the same</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># combining the two dataframes:</span>
<span class="n">onecomb</span> <span class="o">=</span> <span class="n">stpaul_venues</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">'Venue'</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">,</span> <span class="s1">'Venue Latitude'</span><span class="p">,</span><span class="s1">'Venue Longitude'</span><span class="p">,</span><span class="s1">'Venue Category'</span><span class="p">]]</span>
<span class="n">twocomb</span> <span class="o">=</span> <span class="n">justpetyelp</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">'Venue'</span><span class="p">,</span><span class="s1">'Venue Zipcode'</span><span class="p">,</span> <span class="s1">'Venue Latitude'</span><span class="p">,</span><span class="s1">'Venue Longitude'</span><span class="p">,</span><span class="s1">'Venue Category'</span><span class="p">]]</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">onecomb</span><span class="p">,</span><span class="n">twocomb</span><span class="p">])</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'Venue Zipcode'</span><span class="p">)</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">combined_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(629, 5)</pre>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Separate-the-dataframe-in-two-based-on-the-categories-in-the-stpaul_venues-and-justpetyelp">
<a class="anchor" href="#Separate-the-dataframe-in-two-based-on-the-categories-in-the-stpaul_venues-and-justpetyelp" aria-hidden="true"><span class="octicon octicon-link"></span></a>Separate the dataframe in two based on the categories in the <code>stpaul_venues</code> and <code>justpetyelp</code><a class="anchor-link" href="#Separate-the-dataframe-in-two-based-on-the-categories-in-the-stpaul_venues-and-justpetyelp"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">check_one</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">catInt</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">catInt2</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">catInt</span><span class="p">)))]</span>
<span class="n">check_two</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="o">~</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">catInt</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">catInt2</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">catInt</span><span class="p">)))]</span>
<span class="c1"># keep check_two intact</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="In-check_one-dataframe,-separate-them-into-rows-where-there-are-duplicates-in-Venue-and-rows-where-they-are-not-(duplicated_check_one-and-unique_check_one)">
<a class="anchor" href="#In-check_one-dataframe,-separate-them-into-rows-where-there-are-duplicates-in-Venue-and-rows-where-they-are-not-(duplicated_check_one-and-unique_check_one)" aria-hidden="true"><span class="octicon octicon-link"></span></a>In <code>check_one</code> dataframe, separate them into rows where there are duplicates in <code>Venue</code> and rows where they are not (<code>duplicated_check_one</code> and <code>unique_check_one</code>)<a class="anchor-link" href="#In-check_one-dataframe,-separate-them-into-rows-where-there-are-duplicates-in-Venue-and-rows-where-they-are-not-(duplicated_check_one-and-unique_check_one)"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">duplicated_check_one</span> <span class="o">=</span> <span class="n">check_one</span><span class="p">[</span><span class="n">check_one</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">,</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">)</span>
<span class="n">unique_check_one</span> <span class="o">=</span> <span class="n">check_one</span><span class="p">[</span><span class="o">~</span><span class="n">check_one</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue'</span><span class="p">,</span><span class="n">keep</span><span class="o">=</span><span class="kc">False</span><span class="p">)]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Check-manually-and-remove-the-duplicates-on-duplicated_check_one">
<a class="anchor" href="#Check-manually-and-remove-the-duplicates-on-duplicated_check_one" aria-hidden="true"><span class="octicon octicon-link"></span></a>Check manually and remove the duplicates on <code>duplicated_check_one</code><a class="anchor-link" href="#Check-manually-and-remove-the-duplicates-on-duplicated_check_one"> </a>
</h5>
<p>The duplicated values are Chuck and Don's, Como Park, Pet Supplies Plus, and Twin Cities Reptiles</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">strtodel</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Chuck'</span><span class="p">,</span><span class="s1">'Como'</span><span class="p">,</span><span class="s1">'Pet Supplies Plus'</span><span class="p">,</span><span class="s1">'Twin Cities Reptiles'</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">strtodel</span><span class="p">:</span>
    <span class="n">subsetvalue</span> <span class="o">=</span> <span class="n">duplicated_check_one</span><span class="p">[</span><span class="n">duplicated_check_one</span><span class="p">[</span><span class="s1">'Venue'</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span>
    <span class="n">duplicated_check_one</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">subsetvalue</span><span class="p">[</span><span class="n">subsetvalue</span><span class="o">.</span><span class="n">duplicated</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="s1">'Venue Zipcode'</span><span class="p">)]</span><span class="o">.</span><span class="n">index</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">duplicated_check_one</span> <span class="o">=</span> <span class="n">duplicated_check_one</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># there are two Petco in 55116, delete index 6</span>
<span class="n">duplicated_check_one</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">duplicated_check_one</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Banfield Pet Hospital</td>
      <td>55113</td>
      <td>45.016502</td>
      <td>-93.175787</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Banfield Pet Hospital</td>
      <td>55116</td>
      <td>44.917463</td>
      <td>-93.186226</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Chuck &amp; Don's Pet Food &amp; Supplies</td>
      <td>55113</td>
      <td>45.021352</td>
      <td>-93.170601</td>
      <td>Pet Stores</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Chuck &amp; Don's Pet Food &amp; Supplies</td>
      <td>55116</td>
      <td>44.917735</td>
      <td>-93.189564</td>
      <td>Pet Stores</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Como Park Animal Hospital</td>
      <td>55117</td>
      <td>44.971808</td>
      <td>-93.125987</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Petco</td>
      <td>55113</td>
      <td>45.018555</td>
      <td>-93.178525</td>
      <td>Pet Stores</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Petco</td>
      <td>55116</td>
      <td>44.918520</td>
      <td>-93.196697</td>
      <td>Pet Store</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Twin Cities Reptiles</td>
      <td>55114</td>
      <td>44.963989</td>
      <td>-93.196365</td>
      <td>Pet Stores</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h6 id="combined-the-three-dataframes-back-into-combined_df">
<a class="anchor" href="#combined-the-three-dataframes-back-into-combined_df" aria-hidden="true"><span class="octicon octicon-link"></span></a>combined the three dataframes back into <code>combined_df</code><a class="anchor-link" href="#combined-the-three-dataframes-back-into-combined_df"> </a>
</h6>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">combined_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">duplicated_check_one</span><span class="p">,</span><span class="n">unique_check_one</span><span class="p">,</span><span class="n">check_two</span><span class="p">])</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">'Venue Zipcode'</span><span class="p">)</span>
<span class="n">combined_df</span> <span class="o">=</span> <span class="n">combined_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">combined_df</span><span class="o">.</span><span class="n">shape</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(624, 5)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># saving the dataframe for presentation</span>
<span class="n">combined_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">'combined_df.csv'</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Methodology-for-k-means-clustering-machine-learning">
<a class="anchor" href="#Methodology-for-k-means-clustering-machine-learning" aria-hidden="true"><span class="octicon octicon-link"></span></a>Methodology for k-means clustering machine learning<a class="anchor-link" href="#Methodology-for-k-means-clustering-machine-learning"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h5 id="Analyze-Each-Neighborhood">
<a class="anchor" href="#Analyze-Each-Neighborhood" aria-hidden="true"><span class="octicon octicon-link"></span></a>Analyze Each Neighborhood<a class="anchor-link" href="#Analyze-Each-Neighborhood"> </a>
</h5>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># one hot encoding</span>
<span class="n">stpaul_onehot</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">combined_df</span><span class="p">[[</span><span class="s1">'Venue Category'</span><span class="p">]],</span> <span class="n">prefix</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span> <span class="n">prefix_sep</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>

<span class="c1"># add neighborhood column back to dataframe</span>
<span class="n">stpaul_onehot</span><span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span> 

<span class="c1"># move neighborhood column to the first column</span>
<span class="n">fixed_columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">stpaul_onehot</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">stpaul_onehot</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">stpaul_onehot</span> <span class="o">=</span> <span class="n">stpaul_onehot</span><span class="p">[</span><span class="n">fixed_columns</span><span class="p">]</span>

<span class="n">stpaul_onehot</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Zipcode</th>
      <th>ATM</th>
      <th>African Restaurant</th>
      <th>American Restaurant</th>
      <th>Animal Shelters</th>
      <th>Antique Shop</th>
      <th>Arts &amp; Crafts Store</th>
      <th>Asian Restaurant</th>
      <th>Athletics &amp; Sports</th>
      <th>Automotive Shop</th>
      <th>...</th>
      <th>Vegetarian / Vegan Restaurant</th>
      <th>Veterinarians</th>
      <th>Video Store</th>
      <th>Vietnamese Restaurant</th>
      <th>Wine Bar</th>
      <th>Wine Shop</th>
      <th>Women's Store</th>
      <th>Yoga Studio</th>
      <th>Zoo</th>
      <th>Zoo Exhibit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>55101</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55101</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>55101</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55101</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>55101</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 178 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Next,-let's-group-rows-by-neighborhood-and-by-taking-the-mean-of-the-frequency-of-occurrence-of-each-category">
<a class="anchor" href="#Next,-let's-group-rows-by-neighborhood-and-by-taking-the-mean-of-the-frequency-of-occurrence-of-each-category" aria-hidden="true"><span class="octicon octicon-link"></span></a>Next, let's group rows by neighborhood and by taking the mean of the frequency of occurrence of each category<a class="anchor-link" href="#Next,-let's-group-rows-by-neighborhood-and-by-taking-the-mean-of-the-frequency-of-occurrence-of-each-category"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_grouped</span> <span class="o">=</span> <span class="n">stpaul_onehot</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">'Zipcode'</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">stpaul_grouped</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Zipcode</th>
      <th>ATM</th>
      <th>African Restaurant</th>
      <th>American Restaurant</th>
      <th>Animal Shelters</th>
      <th>Antique Shop</th>
      <th>Arts &amp; Crafts Store</th>
      <th>Asian Restaurant</th>
      <th>Athletics &amp; Sports</th>
      <th>Automotive Shop</th>
      <th>...</th>
      <th>Vegetarian / Vegan Restaurant</th>
      <th>Veterinarians</th>
      <th>Video Store</th>
      <th>Vietnamese Restaurant</th>
      <th>Wine Bar</th>
      <th>Wine Shop</th>
      <th>Women's Store</th>
      <th>Yoga Studio</th>
      <th>Zoo</th>
      <th>Zoo Exhibit</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>55101</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.020833</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.041667</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.020833</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55102</td>
      <td>0.0</td>
      <td>0.012987</td>
      <td>0.051948</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.012987</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.038961</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.012987</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>55103</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.058824</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.117647</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.058824</td>
      <td>0.117647</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55104</td>
      <td>0.0</td>
      <td>0.020833</td>
      <td>0.000000</td>
      <td>0.020833</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.020833</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.020833</td>
      <td>0.020833</td>
      <td>0.0</td>
      <td>0.062500</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>55105</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.013699</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.027397</td>
      <td>0.027397</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.027397</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.013699</td>
      <td>0.013699</td>
      <td>0.013699</td>
      <td>0.013699</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 178 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Borrow the function to get the most common venue from previous works:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">return_most_common_venues</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">num_top_venues</span><span class="p">):</span>
    <span class="n">row_categories</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
    <span class="n">row_categories_sorted</span> <span class="o">=</span> <span class="n">row_categories</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">row_categories_sorted</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">num_top_venues</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">num_top_venues</span> <span class="o">=</span> <span class="mi">10</span>

<span class="n">indicators</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'st'</span><span class="p">,</span> <span class="s1">'nd'</span><span class="p">,</span> <span class="s1">'rd'</span><span class="p">]</span>

<span class="c1"># create columns according to number of top venues</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span>
<span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">num_top_venues</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'</span><span class="si">{}{}</span><span class="s1"> Most Common Venue'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ind</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">indicators</span><span class="p">[</span><span class="n">ind</span><span class="p">]))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">columns</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'</span><span class="si">{}</span><span class="s1">th Most Common Venue'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">ind</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>

<span class="c1"># create a new dataframe</span>
<span class="n">neighborhoods_venues_sorted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
<span class="n">neighborhoods_venues_sorted</span><span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span> <span class="o">=</span> <span class="n">stpaul_grouped</span><span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span>

<span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">stpaul_grouped</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">neighborhoods_venues_sorted</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="n">return_most_common_venues</span><span class="p">(</span><span class="n">stpaul_grouped</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span> <span class="p">:],</span> <span class="n">num_top_venues</span><span class="p">)</span>

<span class="n">neighborhoods_venues_sorted</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Zipcode</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>55101</td>
      <td>Brewery</td>
      <td>Dog Walkers</td>
      <td>Bar</td>
      <td>Pizza Place</td>
      <td>Liquor Store</td>
      <td>Farmers Market</td>
      <td>Sandwich Place</td>
      <td>Hotel</td>
      <td>New American Restaurant</td>
      <td>Asian Restaurant</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55102</td>
      <td>Bar</td>
      <td>Italian Restaurant</td>
      <td>American Restaurant</td>
      <td>Park</td>
      <td>Café</td>
      <td>Veterinarians</td>
      <td>Mexican Restaurant</td>
      <td>Coffee Shop</td>
      <td>French Restaurant</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>2</th>
      <td>55103</td>
      <td>Zoo Exhibit</td>
      <td>Garden</td>
      <td>Vietnamese Restaurant</td>
      <td>Lake</td>
      <td>Pet Training</td>
      <td>Noodle House</td>
      <td>Park</td>
      <td>Theme Park</td>
      <td>Liquor Store</td>
      <td>Farmers Market</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55104</td>
      <td>Coffee Shop</td>
      <td>Vietnamese Restaurant</td>
      <td>Pet Sitting</td>
      <td>Gym</td>
      <td>Breakfast Spot</td>
      <td>Korean Restaurant</td>
      <td>Pizza Place</td>
      <td>Brewery</td>
      <td>Burger Joint</td>
      <td>Café</td>
    </tr>
    <tr>
      <th>4</th>
      <td>55105</td>
      <td>Coffee Shop</td>
      <td>Bakery</td>
      <td>Pizza Place</td>
      <td>Liquor Store</td>
      <td>Italian Restaurant</td>
      <td>Ice Cream Shop</td>
      <td>Pet Groomers</td>
      <td>Pub</td>
      <td>Café</td>
      <td>Restaurant</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cluster-Neighborhoods">
<a class="anchor" href="#Cluster-Neighborhoods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cluster Neighborhoods<a class="anchor-link" href="#Cluster-Neighborhoods"> </a>
</h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>After combining them, let's start with running multiple K values to find the optimal number of clusters for this particular dataset:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_grouped_clustering</span> <span class="o">=</span> <span class="n">stpaul_grouped</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'Zipcode'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>


<span class="n">K</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
<span class="n">kmeans_per_k</span> <span class="o">=</span> <span class="p">[</span><span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">stpaul_grouped_clustering</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">]</span>
<span class="n">Sum_of_squared_distances</span> <span class="o">=</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">inertia_</span> <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">kmeans_per_k</span><span class="p">]</span>

<span class="c1"># plot the K</span>
<span class="n">optimal_k</span><span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span> <span class="n">Sum_of_squared_distances</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Sum_of_squared_distances'</span><span class="p">],</span> <span class="n">index</span> <span class="o">=</span> <span class="n">K</span><span class="p">)</span>
<span class="n">optimal_k</span><span class="o">.</span><span class="n">rename_axis</span><span class="p">(</span><span class="s1">'K'</span><span class="p">,</span> <span class="n">axis</span> <span class="o">=</span> <span class="s1">'columns'</span><span class="p">,</span> <span class="n">inplace</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="n">optimal_k</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s1">'line'</span><span class="p">,</span> <span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">marker</span> <span class="o">=</span> <span class="s1">'.'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">'Elbow'</span><span class="p">,</span>
             <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">Sum_of_squared_distances</span><span class="p">[</span><span class="mi">4</span><span class="p">]),</span>
             <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mf">0.55</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">),</span>
             <span class="n">textcoords</span><span class="o">=</span><span class="s1">'figure fraction'</span><span class="p">,</span>
             <span class="n">arrowprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">'black'</span><span class="p">,</span> <span class="n">shrink</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
            <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">'$k$'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">'Sum_of_squared_distances'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">'Elbow Method For Optimal k'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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36JFC3744YcARiMF+Tsp+wZoZ2atgb3ACGBUwR3MrIlzbr938QZgo59j8pmZ8esr2hNsxrOfbSEnN5e/DetKSLCGeRMREZHy4dekzDmXbWb3Ap8AwcBrzrn1ZvYosMo59x7wCzO7AcgGjgLj/RlTWfzy8naEBBtPf7KZHAfP3qrETERERMqH3wePdc4tBBaes+5PBb7/PfB7f8dRXu65tC3BQcYTH20iN9fxjxHdCFViJiIiImWkEf1L4e4BFxASZDz24Uayc3P558gehIUoMRMREZHSUyZRShMuacOfrruQT9Yf5J7Zq8nMzg10SCIiIlKFKSkrgzv6tebRIZ3594aD/GxmEhnZOYEOSURERKooJWVlNLZPLI/deBGLNh3irhlJpGcpMRMRERHfKSkrB6MTW/HEzXF8ueUwE19fpcRMRKQaevzxx+ncuTNdunShW7durFy5skKvv3TpUjp37ky3bt1IS0ur0GuXxeLFi7nuuutKvH9sbCwpKSkAXHzxxUXuW92miVJSVk5G9GrJk7d0Ydm2FO6c/g1pmUrMRESqi6+++ooPPviA1atX89133/HZZ5/RokWL4g8sR7NmzeK3v/0ta9asoVatWhV67XM558jN9X8t9X/+858ityspk590a0IL/j6sK19tP8Lt077mTGZ2oEMSEamxknYdY/IX20jadazM59q/fz8xMTGEh4cDEBMTQ9OmTc9q1Vm1ahUDBw4E4OGHH2bcuHFceeWVxMbG8vbbb3P//fcTFxfH4MGDycrK+slrLVq0iO7duxMXF8cdd9xBRkYGr7zyCnPnzuXRRx/ltttu+8kY+/fvT7du3bjoootYunQpAFOnTqV9+/YMGDCAiRMncu+99wIwfvx45s+fn398ZGQk4Bnxf9CgQfTo0YO4uDjeffddAHbu3EmnTp34+c9/To8ePdizZw+ffvopffr0oUePHgwbNix/toCPP/6Yjh070q9fP95+++0in+2RI0e48sor6d69O3fddRfO/XfSnryYCru3Bx54gLS0NLp165b/TG688Ubi4+Pp3LkzU6ZMOes8f/zjH+natSuJiYkcPHgQgIMHD3LTTTfRtWtXunbtmp8Ezpw5k169etGtWzfuuusucnJyyMnJYfz48Vx00UXExcXx7LPPFnlfpaEhMcrZzT2aExxk/GrOGsa/9g2v3d6TyHA9ZhGR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%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Another approach is to use <em>silhouette score</em> (mean of the <em>silhouette coefficient</em> over all the instances).</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">silhouette_scores</span> <span class="o">=</span> <span class="p">[</span><span class="n">silhouette_score</span><span class="p">(</span><span class="n">stpaul_grouped_clustering</span><span class="p">,</span>
                                      <span class="n">model</span><span class="o">.</span><span class="n">labels_</span><span class="p">)</span>
                     <span class="k">for</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">kmeans_per_k</span><span class="p">[</span><span class="mi">1</span><span class="p">:]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">14</span><span class="p">),</span> <span class="n">silhouette_scores</span><span class="p">,</span> <span class="s2">"bo-"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"$k$"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">"Silhouette score"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">([</span><span class="mf">1.8</span><span class="p">,</span> <span class="mf">7.5</span><span class="p">,</span> <span class="mf">0.03</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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%0A">
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The best K value seems to be 5 for our datasets.</p>
<p>Run the k-means into 5 clusters:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># set number of clusters</span>
<span class="n">kclusters</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">stpaul_grouped_clustering</span> <span class="o">=</span> <span class="n">stpaul_grouped</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">'Zipcode'</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># run k-means clustering</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">kclusters</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">stpaul_grouped_clustering</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">neighborhoods_venues_sorted</span><span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span><span class="o">=</span><span class="n">neighborhoods_venues_sorted</span><span class="p">[</span><span class="s1">'Zipcode'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">stpaul_merged</span> <span class="o">=</span> <span class="n">zipStPaul</span>
<span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">]</span><span class="o">=</span><span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># add clustering labels</span>
<span class="n">neighborhoods_venues_sorted</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">'Cluster Labels'</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">labels_</span><span class="p">)</span>

<span class="c1"># merge zipStPaul with neighborhoods_venues to add latitude/longitude for each neighborhood</span>
<span class="n">stpaul_merged</span> <span class="o">=</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">neighborhoods_venues_sorted</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">'Zipcode'</span><span class="p">),</span> <span class="n">on</span><span class="o">=</span><span class="s1">'zipcode'</span><span class="p">)</span>

<span class="n">stpaul_merged</span><span class="o">.</span><span class="n">head</span><span class="p">()</span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zipcode</th>
      <th>med_income</th>
      <th>latitude</th>
      <th>longitude</th>
      <th>Cluster Labels</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>55101</td>
      <td>40300</td>
      <td>44.95</td>
      <td>-93.09</td>
      <td>1</td>
      <td>Brewery</td>
      <td>Dog Walkers</td>
      <td>Bar</td>
      <td>Pizza Place</td>
      <td>Liquor Store</td>
      <td>Farmers Market</td>
      <td>Sandwich Place</td>
      <td>Hotel</td>
      <td>New American Restaurant</td>
      <td>Asian Restaurant</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55102</td>
      <td>46255</td>
      <td>44.93</td>
      <td>-93.12</td>
      <td>1</td>
      <td>Bar</td>
      <td>Italian Restaurant</td>
      <td>American Restaurant</td>
      <td>Park</td>
      <td>Café</td>
      <td>Veterinarians</td>
      <td>Mexican Restaurant</td>
      <td>Coffee Shop</td>
      <td>French Restaurant</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>2</th>
      <td>55103</td>
      <td>28899</td>
      <td>44.97</td>
      <td>-93.13</td>
      <td>4</td>
      <td>Zoo Exhibit</td>
      <td>Garden</td>
      <td>Vietnamese Restaurant</td>
      <td>Lake</td>
      <td>Pet Training</td>
      <td>Noodle House</td>
      <td>Park</td>
      <td>Theme Park</td>
      <td>Liquor Store</td>
      <td>Farmers Market</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55104</td>
      <td>44629</td>
      <td>44.96</td>
      <td>-93.17</td>
      <td>1</td>
      <td>Coffee Shop</td>
      <td>Vietnamese Restaurant</td>
      <td>Pet Sitting</td>
      <td>Gym</td>
      <td>Breakfast Spot</td>
      <td>Korean Restaurant</td>
      <td>Pizza Place</td>
      <td>Brewery</td>
      <td>Burger Joint</td>
      <td>Café</td>
    </tr>
    <tr>
      <th>4</th>
      <td>55105</td>
      <td>76472</td>
      <td>44.93</td>
      <td>-93.16</td>
      <td>1</td>
      <td>Coffee Shop</td>
      <td>Bakery</td>
      <td>Pizza Place</td>
      <td>Liquor Store</td>
      <td>Italian Restaurant</td>
      <td>Ice Cream Shop</td>
      <td>Pet Groomers</td>
      <td>Pub</td>
      <td>Café</td>
      <td>Restaurant</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Visualizing the clusters:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># create map</span>
<span class="n">map_clusters</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Map</span><span class="p">(</span><span class="n">location</span><span class="o">=</span><span class="p">[</span><span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">],</span> <span class="n">zoom_start</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>

<span class="c1"># set color scheme for the clusters</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">kclusters</span><span class="p">)</span>
<span class="n">ys</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">i</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">kclusters</span><span class="p">)]</span>
<span class="n">colors_array</span> <span class="o">=</span> <span class="n">cm</span><span class="o">.</span><span class="n">rainbow</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">ys</span><span class="p">)))</span>
<span class="n">rainbow</span> <span class="o">=</span> <span class="p">[</span><span class="n">colors</span><span class="o">.</span><span class="n">rgb2hex</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">colors_array</span><span class="p">]</span>

<span class="c1"># add markers to the map</span>
<span class="n">markers_colors</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">poi</span><span class="p">,</span> <span class="n">cluster</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'latitude'</span><span class="p">],</span> <span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'longitude'</span><span class="p">],</span> <span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'zipcode'</span><span class="p">],</span> <span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'Cluster Labels'</span><span class="p">]):</span>
    <span class="n">label</span> <span class="o">=</span> <span class="n">folium</span><span class="o">.</span><span class="n">Popup</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">poi</span><span class="p">)</span> <span class="o">+</span> <span class="s1">' Cluster '</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cluster</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="n">parse_html</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">folium</span><span class="o">.</span><span class="n">CircleMarker</span><span class="p">(</span>
        <span class="p">[</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">],</span>
        <span class="n">radius</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">popup</span><span class="o">=</span><span class="n">label</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="n">rainbow</span><span class="p">[</span><span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
        <span class="n">fill</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">fill_color</span><span class="o">=</span><span class="n">rainbow</span><span class="p">[</span><span class="n">cluster</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
        <span class="n">fill_opacity</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="n">map_clusters</span><span class="p">)</span>
       
<span class="n">map_clusters</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe src="data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgCiAgICAgICAgPHNjcmlwdD4KICAgICAgICAgICAgTF9OT19UT1VDSCA9IGZhbHNlOwogICAgICAgICAgICBMX0RJU0FCTEVfM0QgPSBmYWxzZTsKICAgICAgICA8L3NjcmlwdD4KICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0xLjEyLjQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5qcyI+PC9zY3JpcHQ+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vbGVhZmxldEAxLjUuMS9kaXN0L2xlYWZsZXQuY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vYm9vdHN0cmFwLzMuMi4wL2Nzcy9ib290c3RyYXAubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLXRoZW1lLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9mb250LWF3ZXNvbWUvNC42LjMvY3NzL2ZvbnQtYXdlc29tZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL0xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLzIuMC4yL2xlYWZsZXQuYXdlc29tZS1tYXJrZXJzLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL3Jhd2Nkbi5naXRoYWNrLmNvbS9weXRob24tdmlzdWFsaXphdGlvbi9mb2xpdW0vbWFzdGVyL2ZvbGl1bS90ZW1wbGF0ZXMvbGVhZmxldC5hd2Vzb21lLnJvdGF0ZS5jc3MiLz4KICAgIDxzdHlsZT5odG1sLCBib2R5IHt3aWR0aDogMTAwJTtoZWlnaHQ6IDEwMCU7bWFyZ2luOiAwO3BhZGRpbmc6IDA7fTwvc3R5bGU+CiAgICA8c3R5bGU+I21hcCB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Ym90dG9tOjA7cmlnaHQ6MDtsZWZ0OjA7fTwvc3R5bGU+CiAgICAKICAgICAgICAgICAgPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwKICAgICAgICAgICAgICAgIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT1ubyIgLz4KICAgICAgICAgICAgPHN0eWxlPgogICAgICAgICAgICAgICAgI21hcF8xNDMyMGNmZjhkZDQ0MTdjOTQ4ZmVlMjFiMWY3ZDc4OSB7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICAgICAgbGVmdDogMC4wJTsKICAgICAgICAgICAgICAgICAgICB0b3A6IDAuMCU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIDwvc3R5bGU+CiAgICAgICAgCjwvaGVhZD4KPGJvZHk+ICAgIAogICAgCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZvbGl1bS1tYXAiIGlkPSJtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkiID48L2Rpdj4KICAgICAgICAKPC9ib2R5Pgo8c2NyaXB0PiAgICAKICAgIAogICAgICAgICAgICB2YXIgbWFwXzE0MzIwY2ZmOGRkNDQxN2M5NDhmZWUyMWIxZjdkNzg5ID0gTC5tYXAoCiAgICAgICAgICAgICAgICAibWFwXzE0MzIwY2ZmOGRkNDQxN2M5NDhmZWUyMWIxZjdkNzg5IiwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBjZW50ZXI6IFs0NC45NTA0MDM3LCAtOTMuMTAxNTAyNl0sCiAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NywKICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICB6b29tQ29udHJvbDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBwcmVmZXJDYW52YXM6IGZhbHNlLAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwoKICAgICAgICAgICAgCgogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzc3Y2UxZTRhMWM5MzQ4NWM5Yjc2NDYxN2U4MWVhNTRmID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAiaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmciLAogICAgICAgICAgICAgICAgeyJhdHRyaWJ1dGlvbiI6ICJEYXRhIGJ5IFx1MDAyNmNvcHk7IFx1MDAzY2EgaHJlZj1cImh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZ1wiXHUwMDNlT3BlblN0cmVldE1hcFx1MDAzYy9hXHUwMDNlLCB1bmRlciBcdTAwM2NhIGhyZWY9XCJodHRwOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiXHUwMDNlT0RiTFx1MDAzYy9hXHUwMDNlLiIsICJkZXRlY3RSZXRpbmEiOiBmYWxzZSwgIm1heE5hdGl2ZVpvb20iOiAxOCwgIm1heFpvb20iOiAxOCwgIm1pblpvb20iOiAwLCAibm9XcmFwIjogZmFsc2UsICJvcGFjaXR5IjogMSwgInN1YmRvbWFpbnMiOiAiYWJjIiwgInRtcyI6IGZhbHNlfQogICAgICAgICAgICApLmFkZFRvKG1hcF8xNDMyMGNmZjhkZDQ0MTdjOTQ4ZmVlMjFiMWY3ZDc4OSk7CiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzQwM2Q1NzFhMTMwNDMwZDk1MDliOTVhNDZlMjgzOTcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NSwgLTkzLjA5XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2M4NGJmZjk0NThmNDQ1ZTY4MGIzMWM3ZjBkZTAyODk0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81MDcxMzE1ZGM3ZWI0MTE4OGQ4OTJhODVjZTE1MTU1OSA9ICQoYDxkaXYgaWQ9Imh0bWxfNTA3MTMxNWRjN2ViNDExODhkODkyYTg1Y2UxNTE1NTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTAxIENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jODRiZmY5NDU4ZjQ0NWU2ODBiMzFjN2YwZGUwMjg5NC5zZXRDb250ZW50KGh0bWxfNTA3MTMxNWRjN2ViNDExODhkODkyYTg1Y2UxNTE1NTkpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzc0MDNkNTcxYTEzMDQzMGQ5NTA5Yjk1YTQ2ZTI4Mzk3LmJpbmRQb3B1cChwb3B1cF9jODRiZmY5NDU4ZjQ0NWU2ODBiMzFjN2YwZGUwMjg5NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWQ4NDE0YTBiYTE3NGU3ZGIzYmY4MjJlMjQxMDI4MWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45MywgLTkzLjEyXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2Q2Mjc3YmVmZjcyNDRkNGZhYjI4MWNlMjFiNTBjOGM1ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9kM2I5MzcxMzhjNmE0OTk1OTNlNTVkY2E4Y2NjNzJhOCA9ICQoYDxkaXYgaWQ9Imh0bWxfZDNiOTM3MTM4YzZhNDk5NTkzZTU1ZGNhOGNjYzcyYTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTAyIENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9kNjI3N2JlZmY3MjQ0ZDRmYWIyODFjZTIxYjUwYzhjNS5zZXRDb250ZW50KGh0bWxfZDNiOTM3MTM4YzZhNDk5NTkzZTU1ZGNhOGNjYzcyYTgpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2VkODQxNGEwYmExNzRlN2RiM2JmODIyZTI0MTAyODFkLmJpbmRQb3B1cChwb3B1cF9kNjI3N2JlZmY3MjQ0ZDRmYWIyODFjZTIxYjUwYzhjNSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmMxYzU3MjcyNThiNDJjYTg4ODVmZGJhNWUwZDc5MDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NywgLTkzLjEzXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjZmZiMzYwIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiNmZmIzNjAiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2ViZmJlZGM4NGYyOTQ0YmI4MzljOTI3MjlhMDQzN2Y3ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9hNzQxYWM4MGQ4NjQ0Y2Q2OWU3ZjQ4YWFmZWY3OGIwZiA9ICQoYDxkaXYgaWQ9Imh0bWxfYTc0MWFjODBkODY0NGNkNjllN2Y0OGFhZmVmNzhiMGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTAzIENsdXN0ZXIgNTwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9lYmZiZWRjODRmMjk0NGJiODM5YzkyNzI5YTA0MzdmNy5zZXRDb250ZW50KGh0bWxfYTc0MWFjODBkODY0NGNkNjllN2Y0OGFhZmVmNzhiMGYpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzZjMWM1NzI3MjU4YjQyY2E4ODg1ZmRiYTVlMGQ3OTA1LmJpbmRQb3B1cChwb3B1cF9lYmZiZWRjODRmMjk0NGJiODM5YzkyNzI5YTA0MzdmNykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGE3YWQ2Zjg1YWQ1NDU1ZmFjYmMzZTk4NDJhNDQ3MjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NiwgLTkzLjE3XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzNhMTVmZTIwZDA5YzRjZjc5ZWVkYzU0ODkxOTkxYWVjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9iMDIwNGY0OTI2YzQ0M2IzODA3MDAxZmI3ZWRmMmJiNCA9ICQoYDxkaXYgaWQ9Imh0bWxfYjAyMDRmNDkyNmM0NDNiMzgwNzAwMWZiN2VkZjJiYjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA0IENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8zYTE1ZmUyMGQwOWM0Y2Y3OWVlZGM1NDg5MTk5MWFlYy5zZXRDb250ZW50KGh0bWxfYjAyMDRmNDkyNmM0NDNiMzgwNzAwMWZiN2VkZjJiYjQpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzhhN2FkNmY4NWFkNTQ1NWZhY2JjM2U5ODQyYTQ0NzI5LmJpbmRQb3B1cChwb3B1cF8zYTE1ZmUyMGQwOWM0Y2Y3OWVlZGM1NDg5MTk5MWFlYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTMwZDcwZDUyNzE5NGI5NDgxZDAwZDNkNzlkOWVjZDMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45MywgLTkzLjE2XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2JjODExMzAzMjk4ZDRlNmM4YjYwMDc3ZmYxMmJhNGNiID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82ZjQ0NmUyZTAzNTQ0NWY2YWU1YjAxNGUxMDhiZTFlNSA9ICQoYDxkaXYgaWQ9Imh0bWxfNmY0NDZlMmUwMzU0NDVmNmFlNWIwMTRlMTA4YmUxZTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA1IENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9iYzgxMTMwMzI5OGQ0ZTZjOGI2MDA3N2ZmMTJiYTRjYi5zZXRDb250ZW50KGh0bWxfNmY0NDZlMmUwMzU0NDVmNmFlNWIwMTRlMTA4YmUxZTUpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzkzMGQ3MGQ1MjcxOTRiOTQ4MWQwMGQzZDc5ZDllY2QzLmJpbmRQb3B1cChwb3B1cF9iYzgxMTMwMzI5OGQ0ZTZjOGI2MDA3N2ZmMTJiYTRjYikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzk1MGJmMjQwNTU2NDM4ZmFjMzdjNWFhMTBiZjY4YjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NCwgLTkzLjA1XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzUwNWQwYzY3MzZmYjQwNTg4ZWNmY2JlMjY2OWYxNDk0ID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8xMDFjY2Q0ZTUyMWQ0ZTQ5OWFjYWY4NTJkNDgyODRhOSA9ICQoYDxkaXYgaWQ9Imh0bWxfMTAxY2NkNGU1MjFkNGU0OTlhY2FmODUyZDQ4Mjg0YTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA2IENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF81MDVkMGM2NzM2ZmI0MDU4OGVjZmNiZTI2NjlmMTQ5NC5zZXRDb250ZW50KGh0bWxfMTAxY2NkNGU1MjFkNGU0OTlhY2FmODUyZDQ4Mjg0YTkpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzM5NTBiZjI0MDU1NjQzOGZhYzM3YzVhYTEwYmY2OGIxLmJpbmRQb3B1cChwb3B1cF81MDVkMGM2NzM2ZmI0MDU4OGVjZmNiZTI2NjlmMTQ5NCkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDgyNjBiYzc4ZTk4NDQ2ODhjNTdmMWQ3MGI3Y2M3YTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45MywgLTkzLjA5XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODBmZmI0IiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MGZmYjQiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2M3OTc2ZWQwYjk3MTQ5YzA5YjhjOTk5OGY3ZjI3ZWVmID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF8yOWU3MDBiYWU5YzQ0NTdmYWU2NzNhYjNmMWY5MGMzYiA9ICQoYDxkaXYgaWQ9Imh0bWxfMjllNzAwYmFlOWM0NDU3ZmFlNjczYWIzZjFmOTBjM2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA3IENsdXN0ZXIgNDwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jNzk3NmVkMGI5NzE0OWMwOWI4Yzk5OThmN2YyN2VlZi5zZXRDb250ZW50KGh0bWxfMjllNzAwYmFlOWM0NDU3ZmFlNjczYWIzZjFmOTBjM2IpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2Q4MjYwYmM3OGU5ODQ0Njg4YzU3ZjFkNzBiN2NjN2EzLmJpbmRQb3B1cChwb3B1cF9jNzk3NmVkMGI5NzE0OWMwOWI4Yzk5OThmN2YyN2VlZikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzQyZDYyOTE3Y2M4NGE5NDhhMWE3ZGI0NzdhZjQxYTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45OCwgLTkzLjE4XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzBhOTI2YmNmYzNjMzQyOWQ4MjAxMDZmNzQ0NDcyZTVhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mNmE1MGYxNDY3NGI0Y2U5YTlkMGY0YjczOGE0NDE3NiA9ICQoYDxkaXYgaWQ9Imh0bWxfZjZhNTBmMTQ2NzRiNGNlOWE5ZDBmNGI3MzhhNDQxNzYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTA4IENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF8wYTkyNmJjZmMzYzM0MjlkODIwMTA2Zjc0NDQ3MmU1YS5zZXRDb250ZW50KGh0bWxfZjZhNTBmMTQ2NzRiNGNlOWE5ZDBmNGI3MzhhNDQxNzYpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzM0MmQ2MjkxN2NjODRhOTQ4YTFhN2RiNDc3YWY0MWE0LmJpbmRQb3B1cChwb3B1cF8wYTkyNmJjZmMzYzM0MjlkODIwMTA2Zjc0NDQ3MmU1YSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzQzNzBlMWE0Yzk2NGQ0N2I2NzMxYTc1MzlmMDJhMDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NS4wMSwgLTkzLjE2XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZmN2U4MGNkOGM2MDQxZjRhMGNlYTdjYWIwYmYzMWRhID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF81ZjUzYjRjMTU0MTk0MmQzOWNlMjFjZjM4ZTZmYzIxMyA9ICQoYDxkaXYgaWQ9Imh0bWxfNWY1M2I0YzE1NDE5NDJkMzljZTIxY2YzOGU2ZmMyMTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTEzIENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82ZjdlODBjZDhjNjA0MWY0YTBjZWE3Y2FiMGJmMzFkYS5zZXRDb250ZW50KGh0bWxfNWY1M2I0YzE1NDE5NDJkMzljZTIxY2YzOGU2ZmMyMTMpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzc0MzcwZTFhNGM5NjRkNDdiNjczMWE3NTM5ZjAyYTA1LmJpbmRQb3B1cChwb3B1cF82ZjdlODBjZDhjNjA0MWY0YTBjZWE3Y2FiMGJmMzFkYSkKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMGI4Yjg1NmE2MmMzNGYzYmEwNmM4NTkxNGZmYjAwZDkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NywgLTkzLjJdLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogIiNmZjAwMDAiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF8xNDMyMGNmZjhkZDQ0MTdjOTQ4ZmVlMjFiMWY3ZDc4OSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfMDVhOWJmNTNmMTg5NGEyNzhiOTdlMzAxY2Y0OWM5NmIgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2FjMGE5NzZkZGYzMTQ0ZGQ4YWU1NTZjYTVmMmFkYjgwID0gJChgPGRpdiBpZD0iaHRtbF9hYzBhOTc2ZGRmMzE0NGRkOGFlNTU2Y2E1ZjJhZGI4MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMTQgQ2x1c3RlciAxPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwXzA1YTliZjUzZjE4OTRhMjc4Yjk3ZTMwMWNmNDljOTZiLnNldENvbnRlbnQoaHRtbF9hYzBhOTc2ZGRmMzE0NGRkOGFlNTU2Y2E1ZjJhZGI4MCk7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfMGI4Yjg1NmE2MmMzNGYzYmEwNmM4NTkxNGZmYjAwZDkuYmluZFBvcHVwKHBvcHVwXzA1YTliZjUzZjE4OTRhMjc4Yjk3ZTMwMWNmNDljOTZiKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYzg3OWViYjFjNDk0YzAyYmUwY2IyNzAyMThhNTA1NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ0LjkxLCAtOTMuMTddLAogICAgICAgICAgICAgICAgeyJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwgImNvbG9yIjogIiM4MDAwZmYiLCAiZGFzaEFycmF5IjogbnVsbCwgImRhc2hPZmZzZXQiOiBudWxsLCAiZmlsbCI6IHRydWUsICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsICJmaWxsT3BhY2l0eSI6IDAuNywgImZpbGxSdWxlIjogImV2ZW5vZGQiLCAibGluZUNhcCI6ICJyb3VuZCIsICJsaW5lSm9pbiI6ICJyb3VuZCIsICJvcGFjaXR5IjogMS4wLCAicmFkaXVzIjogNSwgInN0cm9rZSI6IHRydWUsICJ3ZWlnaHQiOiAzfQogICAgICAgICAgICApLmFkZFRvKG1hcF8xNDMyMGNmZjhkZDQ0MTdjOTQ4ZmVlMjFiMWY3ZDc4OSk7CiAgICAgICAgCiAgICAKICAgICAgICB2YXIgcG9wdXBfZjZjYzYxYzkxZjE1NDNlZTg4MTNhMzQ4Yjk4MTc2ZjEgPSBMLnBvcHVwKHsibWF4V2lkdGgiOiAiMTAwJSJ9KTsKCiAgICAgICAgCiAgICAgICAgICAgIHZhciBodG1sX2E5NmQ0MmEzZWIxZjRiNDhhYWViNjhhOGVjNDUwOTAyID0gJChgPGRpdiBpZD0iaHRtbF9hOTZkNDJhM2ViMWY0YjQ4YWFlYjY4YThlYzQ1MDkwMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+NTUxMTYgQ2x1c3RlciAyPC9kaXY+YClbMF07CiAgICAgICAgICAgIHBvcHVwX2Y2Y2M2MWM5MWYxNTQzZWU4ODEzYTM0OGI5ODE3NmYxLnNldENvbnRlbnQoaHRtbF9hOTZkNDJhM2ViMWY0YjQ4YWFlYjY4YThlYzQ1MDkwMik7CiAgICAgICAgCgogICAgICAgIGNpcmNsZV9tYXJrZXJfMmM4NzllYmIxYzQ5NGMwMmJlMGNiMjcwMjE4YTUwNTUuYmluZFBvcHVwKHBvcHVwX2Y2Y2M2MWM5MWYxNTQzZWU4ODEzYTM0OGI5ODE3NmYxKQogICAgICAgIDsKCiAgICAgICAgCiAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84OTcwNDVmNmQ3Zjg0N2M5YTAxZjBhMTE4NTYyN2RhMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ1LjAsIC05My4xXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzZkNDAxYjdmOWFlMTQ2ZjRhNGVkYjEyYThhMmVhMTNjID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9mNTZjZTM0NjliNjk0ZDE5YjNhY2ZiYjJlN2JhYzhkOCA9ICQoYDxkaXYgaWQ9Imh0bWxfZjU2Y2UzNDY5YjY5NGQxOWIzYWNmYmIyZTdiYWM4ZDgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTE3IENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF82ZDQwMWI3ZjlhZTE0NmY0YTRlZGIxMmE4YTJlYTEzYy5zZXRDb250ZW50KGh0bWxfZjU2Y2UzNDY5YjY5NGQxOWIzYWNmYmIyZTdiYWM4ZDgpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyXzg5NzA0NWY2ZDdmODQ3YzlhMDFmMGExMTg1NjI3ZGExLmJpbmRQb3B1cChwb3B1cF82ZDQwMWI3ZjlhZTE0NmY0YTRlZGIxMmE4YTJlYTEzYykKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjMwYzFlNzU3M2JlNGQwOGI5ZDkyZjhiMTQ5MzU2NjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NCwgLTkzLjAxXSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjODAwMGZmIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiM4MDAwZmYiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwX2MwNWU0MWQ2MjgzMzQ3YzE5MWQ4MDA1NDY0ZDI3MTAyID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF9lZGQ3OWQ4MDI2YmM0NjMzYmExYTdkMmVjNDQxYTdhZCA9ICQoYDxkaXYgaWQ9Imh0bWxfZWRkNzlkODAyNmJjNDYzM2JhMWE3ZDJlYzQ0MWE3YWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTE5IENsdXN0ZXIgMjwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF9jMDVlNDFkNjI4MzM0N2MxOTFkODAwNTQ2NGQyNzEwMi5zZXRDb250ZW50KGh0bWxfZWRkNzlkODAyNmJjNDYzM2JhMWE3ZDJlYzQ0MWE3YWQpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2YzMGMxZTc1NzNiZTRkMDhiOWQ5MmY4YjE0OTM1NjYxLmJpbmRQb3B1cChwb3B1cF9jMDVlNDFkNjI4MzM0N2MxOTFkODAwNTQ2NGQyNzEwMikKICAgICAgICA7CgogICAgICAgIAogICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWZhZWE5ZDVmNGExNGJmMTk0ZmI0MTMwZjZmMTcyMmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NC45NywgLTkzLjA5XSwKICAgICAgICAgICAgICAgIHsiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsICJjb2xvciI6ICIjMDBiNWViIiwgImRhc2hBcnJheSI6IG51bGwsICJkYXNoT2Zmc2V0IjogbnVsbCwgImZpbGwiOiB0cnVlLCAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLCAiZmlsbE9wYWNpdHkiOiAwLjcsICJmaWxsUnVsZSI6ICJldmVub2RkIiwgImxpbmVDYXAiOiAicm91bmQiLCAibGluZUpvaW4iOiAicm91bmQiLCAib3BhY2l0eSI6IDEuMCwgInJhZGl1cyI6IDUsICJzdHJva2UiOiB0cnVlLCAid2VpZ2h0IjogM30KICAgICAgICAgICAgKS5hZGRUbyhtYXBfMTQzMjBjZmY4ZGQ0NDE3Yzk0OGZlZTIxYjFmN2Q3ODkpOwogICAgICAgIAogICAgCiAgICAgICAgdmFyIHBvcHVwXzgwZDY2YTM3OGY2ZjRlNGI5OWJiMWNjM2RkYWZhNWZlID0gTC5wb3B1cCh7Im1heFdpZHRoIjogIjEwMCUifSk7CgogICAgICAgIAogICAgICAgICAgICB2YXIgaHRtbF82NDI1NWViMjYwYzY0NzcwODViNDZkZDI0YmQxODI0YiA9ICQoYDxkaXYgaWQ9Imh0bWxfNjQyNTVlYjI2MGM2NDc3MDg1YjQ2ZGQyNGJkMTgyNGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPjU1MTMwIENsdXN0ZXIgMzwvZGl2PmApWzBdOwogICAgICAgICAgICBwb3B1cF84MGQ2NmEzNzhmNmY0ZTRiOTliYjFjYzNkZGFmYTVmZS5zZXRDb250ZW50KGh0bWxfNjQyNTVlYjI2MGM2NDc3MDg1YjQ2ZGQyNGJkMTgyNGIpOwogICAgICAgIAoKICAgICAgICBjaXJjbGVfbWFya2VyX2VmYWVhOWQ1ZjRhMTRiZjE5NGZiNDEzMGY2ZjE3MjJhLmJpbmRQb3B1cChwb3B1cF84MGQ2NmEzNzhmNmY0ZTRiOTliYjFjYzNkZGFmYTVmZSkKICAgICAgICA7CgogICAgICAgIAogICAgCjwvc2NyaXB0Pg==" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe></div></div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examine-Clusters">
<a class="anchor" href="#Examine-Clusters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Examine Clusters<a class="anchor-link" href="#Examine-Clusters"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, you can examine each cluster and determine the discriminating venue categories that distinguish each cluster. Based on the defining categories, you can then assign a name to each cluster. I will leave this exercise to you.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cluster-1">
<a class="anchor" href="#Cluster-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cluster 1<a class="anchor-link" href="#Cluster-1"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_merged</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'Cluster Labels'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zipcode</th>
      <th>med_income</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>13</th>
      <td>55114</td>
      <td>38861</td>
      <td>Brewery</td>
      <td>Coffee Shop</td>
      <td>Record Shop</td>
      <td>Trail</td>
      <td>Breakfast Spot</td>
      <td>Middle Eastern Restaurant</td>
      <td>Music Store</td>
      <td>Organic Grocery</td>
      <td>Scenic Lookout</td>
      <td>Bakery</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Cluster 1</code> is located in 55114 zipcode, which can be categorized as the <a href="https://www.unitedstateszipcodes.org/55114">St. Anthony</a> neighborhood. It does not seem to be a good place to open a new pet store, with low median income value without any sign of other pet related categories in the 10 most common venues.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cluster-2">
<a class="anchor" href="#Cluster-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cluster 2<a class="anchor-link" href="#Cluster-2"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_merged</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'Cluster Labels'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zipcode</th>
      <th>med_income</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>55101</td>
      <td>40300</td>
      <td>Brewery</td>
      <td>Dog Walkers</td>
      <td>Bar</td>
      <td>Pizza Place</td>
      <td>Liquor Store</td>
      <td>Farmers Market</td>
      <td>Sandwich Place</td>
      <td>Hotel</td>
      <td>New American Restaurant</td>
      <td>Asian Restaurant</td>
    </tr>
    <tr>
      <th>1</th>
      <td>55102</td>
      <td>46255</td>
      <td>Bar</td>
      <td>Italian Restaurant</td>
      <td>American Restaurant</td>
      <td>Park</td>
      <td>Café</td>
      <td>Veterinarians</td>
      <td>Mexican Restaurant</td>
      <td>Coffee Shop</td>
      <td>French Restaurant</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>3</th>
      <td>55104</td>
      <td>44629</td>
      <td>Coffee Shop</td>
      <td>Vietnamese Restaurant</td>
      <td>Pet Sitting</td>
      <td>Gym</td>
      <td>Breakfast Spot</td>
      <td>Korean Restaurant</td>
      <td>Pizza Place</td>
      <td>Brewery</td>
      <td>Burger Joint</td>
      <td>Café</td>
    </tr>
    <tr>
      <th>4</th>
      <td>55105</td>
      <td>76472</td>
      <td>Coffee Shop</td>
      <td>Bakery</td>
      <td>Pizza Place</td>
      <td>Liquor Store</td>
      <td>Italian Restaurant</td>
      <td>Ice Cream Shop</td>
      <td>Pet Groomers</td>
      <td>Pub</td>
      <td>Café</td>
      <td>Restaurant</td>
    </tr>
    <tr>
      <th>5</th>
      <td>55106</td>
      <td>42686</td>
      <td>Mexican Restaurant</td>
      <td>Park</td>
      <td>Bar</td>
      <td>Veterinarians</td>
      <td>Chinese Restaurant</td>
      <td>Pizza Place</td>
      <td>Pet Groomers</td>
      <td>Coffee Shop</td>
      <td>Organic Grocery</td>
      <td>Pet Sitting</td>
    </tr>
    <tr>
      <th>7</th>
      <td>55108</td>
      <td>56994</td>
      <td>American Restaurant</td>
      <td>Snack Place</td>
      <td>Sandwich Place</td>
      <td>Italian Restaurant</td>
      <td>Veterinarians</td>
      <td>Coffee Shop</td>
      <td>Park</td>
      <td>Café</td>
      <td>Campground</td>
      <td>Scandinavian Restaurant</td>
    </tr>
    <tr>
      <th>12</th>
      <td>55113</td>
      <td>61113</td>
      <td>Veterinarians</td>
      <td>Pizza Place</td>
      <td>American Restaurant</td>
      <td>Chinese Restaurant</td>
      <td>Pet Stores</td>
      <td>Sandwich Place</td>
      <td>Park</td>
      <td>Coffee Shop</td>
      <td>Italian Restaurant</td>
      <td>Bakery</td>
    </tr>
    <tr>
      <th>15</th>
      <td>55116</td>
      <td>61142</td>
      <td>Park</td>
      <td>American Restaurant</td>
      <td>Scenic Lookout</td>
      <td>Veterinarians</td>
      <td>Liquor Store</td>
      <td>Mexican Restaurant</td>
      <td>Trail</td>
      <td>Coffee Shop</td>
      <td>Italian Restaurant</td>
      <td>Pet Store</td>
    </tr>
    <tr>
      <th>16</th>
      <td>55117</td>
      <td>44040</td>
      <td>Veterinarians</td>
      <td>Sandwich Place</td>
      <td>Fast Food Restaurant</td>
      <td>Bar</td>
      <td>Chinese Restaurant</td>
      <td>American Restaurant</td>
      <td>Grocery Store</td>
      <td>Video Store</td>
      <td>Gym / Fitness Center</td>
      <td>Furniture / Home Store</td>
    </tr>
    <tr>
      <th>18</th>
      <td>55119</td>
      <td>56275</td>
      <td>Fast Food Restaurant</td>
      <td>Video Store</td>
      <td>Pizza Place</td>
      <td>Hotel</td>
      <td>Chinese Restaurant</td>
      <td>Veterinarians</td>
      <td>Coffee Shop</td>
      <td>ATM</td>
      <td>Department Store</td>
      <td>Shoe Store</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Cluster 2</code> has Dog Walkers, Veterinarians, Pet Sitting, Pet Groomers, and Pet Stores as part of their top 10 most common categories.</p>
<p>From the list, I can recommend opening up a new pet store from <strong>55105</strong> zip code, which is located in the <a href="https://www.unitedstateszipcodes.org/55105/">Macalester-Groveland neighborhood</a>. It has a high median income and there is no mention of pet store in the top 10 most common venues in the area.</p>
<p>The second place that I would recommend is the <strong>55108</strong> zip code, which is located near the <a href="https://www.unitedstateszipcodes.org/55108/">Falcon Heights area</a>. It has a slightly lower median income, but there are already veterinarians as the top 10 most common venues in this neighborhood.</p>
<p>The third place that I would recommend is the <strong>55119</strong> zip code, which is located in the <a href="https://www.unitedstateszipcodes.org/55119/">Battle Creek neighborhood</a>. It has a similar feature as the <strong>55108</strong> location.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cluster-3">
<a class="anchor" href="#Cluster-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cluster 3<a class="anchor-link" href="#Cluster-3"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_merged</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'Cluster Labels'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zipcode</th>
      <th>med_income</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>29</th>
      <td>55130</td>
      <td>30092</td>
      <td>American Restaurant</td>
      <td>Liquor Store</td>
      <td>Italian Restaurant</td>
      <td>Pet Training</td>
      <td>History Museum</td>
      <td>Gastropub</td>
      <td>Park</td>
      <td>Pet Sitting</td>
      <td>Dog Run</td>
      <td>Restaurant</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Cluster 3</code> is located in 55130 zipcode, which can be categorized as the <a href="https://www.unitedstateszipcodes.org/55107">Payne-Phalen</a> neighborhood. It does not seem to be a good place to open a new pet store, with low median income value and having Pet Training, Pet Sitting, and Dog Run already in the top 10 most common venue. They signal a saturated neighborhood to open a Pet Store.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cluster-4">
<a class="anchor" href="#Cluster-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cluster 4<a class="anchor-link" href="#Cluster-4"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_merged</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'Cluster Labels'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zipcode</th>
      <th>med_income</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>6</th>
      <td>55107</td>
      <td>44913</td>
      <td>Mexican Restaurant</td>
      <td>Pet Groomers</td>
      <td>Automotive Shop</td>
      <td>Burrito Place</td>
      <td>Taco Place</td>
      <td>Park</td>
      <td>Scenic Lookout</td>
      <td>Brewery</td>
      <td>Pet Training</td>
      <td>Harbor / Marina</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Cluster 4</code> is located in 55107 zipcode, which can be categorized as the <a href="https://www.unitedstateszipcodes.org/55107">West End</a> neighborhood. It does not seem to be a good place to open a new pet store, with having both Pet Training and Pet Groomers already in the top 10 most common venue. Pet Groomers usually sell similar items that are the same as Pet Stores on top of their grooming business.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Cluster-5">
<a class="anchor" href="#Cluster-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cluster 5<a class="anchor-link" href="#Cluster-5"> </a>
</h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stpaul_merged</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">stpaul_merged</span><span class="p">[</span><span class="s1">'Cluster Labels'</span><span class="p">]</span> <span class="o">==</span> <span class="mi">4</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">stpaul_merged</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))]]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>zipcode</th>
      <th>med_income</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>55103</td>
      <td>28899</td>
      <td>Zoo Exhibit</td>
      <td>Garden</td>
      <td>Vietnamese Restaurant</td>
      <td>Lake</td>
      <td>Pet Training</td>
      <td>Noodle House</td>
      <td>Park</td>
      <td>Theme Park</td>
      <td>Liquor Store</td>
      <td>Farmers Market</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>Cluster 5</code> is located in 55103 zipcode, which can be categorized as the <a href="https://www.unitedstateszipcodes.org/55103">North End</a> neighborhood. It does not seem to be a good place to open a new pet store, with low median income.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Dig-deeper-into-the-Three-Clusters">
<a class="anchor" href="#Dig-deeper-into-the-Three-Clusters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dig deeper into the Three Clusters<a class="anchor-link" href="#Dig-deeper-into-the-Three-Clusters"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I picked: 55105, 55108, and 55119 as the three best zip codes to open a new pet store. Let's look at the data on what is available in the area.</p>
<ul>
<li>55105: <a href="https://www.unitedstateszipcodes.org/55105/">Macalester-Groveland neighborhood</a>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zipcode55105</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">==</span><span class="mi">55105</span><span class="p">]</span>
<span class="n">zipcode55105</span><span class="p">[</span><span class="n">zipcode55105</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">catInt</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">catInt2</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">catInt</span><span class="p">)))]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>252</th>
      <td>Dog Days Daycare &amp; Boarding - Grand Ave</td>
      <td>55105</td>
      <td>44.939774</td>
      <td>-93.174835</td>
      <td>Pet Training</td>
    </tr>
    <tr>
      <th>253</th>
      <td>Animal Medical Clinic</td>
      <td>55105</td>
      <td>44.934563</td>
      <td>-93.166825</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>254</th>
      <td>Grand Avenue Veterinary Center</td>
      <td>55105</td>
      <td>44.939693</td>
      <td>-93.148247</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>255</th>
      <td>Grand Groomers</td>
      <td>55105</td>
      <td>44.939659</td>
      <td>-93.140472</td>
      <td>Pet Groomers</td>
    </tr>
    <tr>
      <th>262</th>
      <td>Bubbly Paws</td>
      <td>55105</td>
      <td>44.940280</td>
      <td>-93.140160</td>
      <td>Pet Groomers</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Check on the grocery and supermarket in the area:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zipcode55105</span><span class="p">[</span><span class="n">zipcode55105</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">'Grocery Store'</span><span class="p">,</span><span class="s1">'Supermarket'</span><span class="p">])]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>190</th>
      <td>Kowalski's Market</td>
      <td>55105</td>
      <td>44.940270</td>
      <td>-93.153639</td>
      <td>Grocery Store</td>
    </tr>
    <tr>
      <th>228</th>
      <td>Trader Joe's</td>
      <td>55105</td>
      <td>44.926666</td>
      <td>-93.146004</td>
      <td>Grocery Store</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>There is no pet store competitor for this area, with two veterinary center / animal medical center that might sell pet related items. Moreover, there are two grocery stores that do sell pet related items in their shelves. This area can be a very good location to open up a new pet store, if the type of items sold in the pet stores are different enough than the ones sold in grocery stores.</p>
<ul>
<li>55108: <a href="https://www.unitedstateszipcodes.org/55108/">Falcon Heights area</a>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zipcode55108</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">==</span><span class="mi">55108</span><span class="p">]</span>
<span class="n">zipcode55108</span><span class="p">[</span><span class="n">zipcode55108</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">catInt</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">catInt2</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">catInt</span><span class="p">)))]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>346</th>
      <td>Raptor Center</td>
      <td>55108</td>
      <td>44.982871</td>
      <td>-93.181639</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>347</th>
      <td>Animal Humane Society - St. Paul</td>
      <td>55108</td>
      <td>44.974723</td>
      <td>-93.154704</td>
      <td>Animal Shelters</td>
    </tr>
    <tr>
      <th>354</th>
      <td>University of Minnesota Veterinary Medical Center</td>
      <td>55108</td>
      <td>44.982202</td>
      <td>-93.181925</td>
      <td>Veterinarians</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Check on the grocery and supermarket category:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zipcode55108</span><span class="p">[</span><span class="n">zipcode55108</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">'Grocery Store'</span><span class="p">,</span><span class="s1">'Supermarket'</span><span class="p">])]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>342</th>
      <td>Tim &amp; Tom's Speedy Market</td>
      <td>55108</td>
      <td>44.981728</td>
      <td>-93.195084</td>
      <td>Grocery Store</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We did not see any pet store in this zip code. Plus, the <a href="https://timandtomsspeedymarket.com/">Tim &amp; Tom's Speedy Market</a> is a specialty grocery store that do not sell pet related items. A close contender in terms of a good location to open up a new pet store.</p>
<ul>
<li>55119: <a href="https://www.unitedstateszipcodes.org/55119/">Battle Creek neighborhood</a>
</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zipcode55119</span> <span class="o">=</span> <span class="n">combined_df</span><span class="p">[</span><span class="n">combined_df</span><span class="p">[</span><span class="s1">'Venue Zipcode'</span><span class="p">]</span><span class="o">==</span><span class="mi">55119</span><span class="p">]</span>
<span class="n">zipcode55119</span><span class="p">[</span><span class="n">zipcode55119</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">catInt</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">catInt2</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">catInt</span><span class="p">)))]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>591</th>
      <td>Scenic Hills Animal Hospital</td>
      <td>55119</td>
      <td>44.948980</td>
      <td>-93.018270</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>592</th>
      <td>Funtastic K9 Training</td>
      <td>55119</td>
      <td>44.949660</td>
      <td>-93.017220</td>
      <td>Pet Training</td>
    </tr>
    <tr>
      <th>593</th>
      <td>Century Animal Clinic</td>
      <td>55119</td>
      <td>44.966652</td>
      <td>-92.985361</td>
      <td>Veterinarians</td>
    </tr>
    <tr>
      <th>600</th>
      <td>Battle Creek Dog Park</td>
      <td>55119</td>
      <td>44.939410</td>
      <td>-93.001641</td>
      <td>Dog Run</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Check on the grocery and supermarket category:</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zipcode55119</span><span class="p">[</span><span class="n">zipcode55119</span><span class="p">[</span><span class="s1">'Venue Category'</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">([</span><span class="s1">'Grocery Store'</span><span class="p">,</span><span class="s1">'Supermarket'</span><span class="p">])]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Venue</th>
      <th>Venue Zipcode</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>608</th>
      <td>Aldi Food Market</td>
      <td>55119</td>
      <td>44.950548</td>
      <td>-93.015737</td>
      <td>Grocery Store</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We did not see any pet store in this zip code, but there are two veterinarians hospitals, where they can potentially sell food and toys for their patients. They also have Aldi grocery store in their area. It is still a great area to have a pet store since the Battle Creek Dog Park is in this neighborhood.</p>

</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="atunanggara/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/blog/portfolio/2020/05/05/finding-new-pet-store-location-Saint-Paul" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>A data science blog to showcase my work</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/atunanggara" title="atunanggara"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/atun_anggara" title="atun_anggara"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
