---
keywords: fastai
description: A tutorial for streamlit platform and heroku deployment
title: Streamlit Tutorial      
toc: true  
badges: false  
categories: [python, streamlit]  
image: images/thumbnails/streamlit_logo.png
nb_path: _notebooks/2020-06-12-streamlit-tutorial.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-06-12-streamlit-tutorial.ipynb
-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Summary">Summary<a class="anchor-link" href="#Summary"> </a></h1><p>Expanding on streamlit's <a href="https://docs.streamlit.io/en/latest/getting_started.html">tutorial</a>, I created <a href="https://streamlit-tutorial-extended.herokuapp.com/">a streamlit app on heroku</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Interlude">Interlude<a class="anchor-link" href="#Interlude"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It has been a tough couple of weeks for me to grapple with <a href="https://en.wikipedia.org/wiki/Killing_of_George_Floyd">events</a> that unfolded about 30 minutes away from where I live. This Martin Luther King Jr. quote that I read on <a href="https://chrisdamian.net/2020/05/29/reflections-on-a-second-night-of-fires/">Chris Damian's blog post</a> resonated with me:</p>
<blockquote><p>“Let me say as I’ve always said, and I will always continue to say, that riots are socially destructive and self-defeating. … But in the final analysis, a riot is the language of the unheard. And what is it that America has failed to hear? It has failed to hear that the plight of the Negro poor has worsened over the last few years. It has failed to hear that the promises of freedom and justice have not been met. And it has failed to hear that large segments of white society are more concerned about tranquility and the status quo than about justice, equality, and humanity. And so in a real sense our nation’s summers of riots are caused by our nation’s winters of delay. And as long as America postpones justice, we stand in the position of having these recurrences of violence and riots over and over again.”</p>
<p>Excerpt from Martin Luther King Jr.’s speech “The Other America,” 1967 at Stanford University.</p>
</blockquote>
<p>Curious on the context of the quote, I ended up listening to the whole speech on YouTube:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include youtube.html content='<a href="https://www.youtube.com/embed/dOWDtDUKz-U">https://www.youtube.com/embed/dOWDtDUKz-U</a>' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I hope that the words of MLK Jr. provided a context on the institutional racism that pervades the world in which we live in. May we have a more just and kind society.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Introduction">Introduction<a class="anchor-link" href="#Introduction"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I first heard about <a href="https://www.streamlit.io/">streamlit</a> from a data scientist in the area. Supposedly, it can create an interactive web python app in a simplified manner. So, I went ahead and run through the <a href="https://docs.streamlit.io/en/latest/getting_started.html">tutorial</a> to understand more on its capability. Since I am familiar with <a href="https://flask.palletsprojects.com/en/1.1.x/">flask</a>, I am going to compare it with streamlit in this introduction.</p>
<p>First off, compared to <a href="https://flask.palletsprojects.com/en/1.1.x/">flask</a>, <a href="https://www.streamlit.io/">streamlit</a> is simpler when it comes to creating a dynamic web app. In flask, it is recommended to save the python file in <code>.py</code> files in root and the <a href="https://www.w3schools.com/html/html_intro.asp">html</a> file in <code>.html</code> files in <a href="/blog/images/copied_from_nb/templates"><code>templates</code></a> folder. This is partly due to html being a verbose markup language. On the other hand, streamlit uses <a href="https://github.github.com/gfm/">GitHub flavored markdown</a> and both python and markdown co-exist in one single python file. Markdown syntax can render rich formatted content in a concise manner. Of course, combining python with markdown texts can be confusing at first. But, if one is already familiar with <a href="https://jupyter.org/">jupyter notebook</a>, this format should come naturally.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Streamlit is created with fast deployment in mind. If one wants to have a perfect platform with all the bells and whistles, <a href="https://flask.palletsprojects.com/en/1.1.x/">flask</a> and <a href="https://www.djangoproject.com/">django</a> should be considered. However, if we want to keep things simple and get quick feedback from other teams, streamlit should be the way to go.</p>
<p>With that in mind, let's get to the <a href="https://docs.streamlit.io/en/latest/getting_started.html">streamlit tutorial</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Streamlit-tutorial">Streamlit tutorial<a class="anchor-link" href="#Streamlit-tutorial"> </a></h1><p><a href="https://streamlit-tutorial-extended.herokuapp.com/">My streamlit tutorial</a> is deployed on <a href="https://www.heroku.com/">heroku</a>.  The tutorial can be loosely divided into:</p>
<ol>
<li>Interactive DataFrame  </li>
<li>Drawing charts and maps   </li>
<li>Add interactivity with Widgets  </li>
<li>Show progress </li>
<li>Record a screencast  </li>
</ol>
<p>Feel free to take a look at the <a href="https://github.com/atunanggara/streamlit-tutorial-extended">github repository</a> to look into the <code>tutorial_streamlit.py</code> Python code.</p>
<h2 id="Heroku-deployment">Heroku deployment<a class="anchor-link" href="#Heroku-deployment"> </a></h2><p>For deploying the streamlit code into heroku, I followed along this YouTube video:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include youtube.html content='<a href="https://www.youtube.com/embed/skpiLtEN3yk">https://www.youtube.com/embed/skpiLtEN3yk</a>' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>However, there are two deviations from the video:</p>
<ol>
<li>For the virtual environment, using my old <code>pyenv</code> resulted in <code>heroku</code> crashing during the deployment. So, I created a new <code>pyenv</code> specifically to deploy the streamlit to heroku.  </li>
<li>For <a href="https://github.com/atunanggara/streamlit-tutorial-extended/blob/master/setup.sh">my</a> <code>setup.sh</code>, I stripped away all the backslashes and the newline characters as recommended on <a href="https://discuss.streamlit.io/t/deploying-heroku-error/1310">the streamlit's forum</a>:  
<pre><code>mkdir -p ~/.streamlit</code></pre>

<pre><code>echo "[server]  
headless = true  
port = $PORT  
enableCORS = false  
" &gt; ~/.streamlit/config.toml</code></pre>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Concluding-thoughts">Concluding thoughts<a class="anchor-link" href="#Concluding-thoughts"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Streamlit package is a simple way to deploy data driven app on the internet. I am excited to use this in creating a nice interactive machine learning web app in the future!</p>

</div>
</div>
</div>
</div>
 

